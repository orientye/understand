:toc:
:toclevels: 4
:hardbreaks-option:

== 文件
open, read, write, close, lseek, ioctl, fcntl(FD_CLOEXEC)
Q: 线程安全?

2>&1     dev/df/1      dev/null

原子性与竞态条件: O_EXCL  O_APPEND

pread, pwrite, preadv, pwritev, preadv2, pwritev2:
pread带有offset, 不完全等同于read+lseek, 因为其具有原子性
https://man7.org/linux/man-pages/man2/preadv2.2.html
https://www.postgresql.org/message-id/20051008154852.GC30988@svana.org
https://stackoverflow.com/questions/20560992/between-read-and-pread-which-way-has-more-efficient

readv, writev
https://stackoverflow.com/questions/10520182/linux-when-to-use-scatter-gather-io-readv-writev-vs-a-large-buffer-with-frea

truncate, ftruncate

O_NONBLOCK

Large Files

temporary file: mkstemp

signalfd: 2.6.22 (linux非标准)
timerfd: 2.6.25
eventfd: 2.6.22

monitoring file events: inotify

Kernel Buffering of FILE IO: The Buffer Cache
写同样多的数据，一次调用大的BUFFSIZE比多次调用小的BUFFSIZE效率高

Buffering in the stdio Library

fsync    fdatasync   sync    O_SYNC

Direct IO:    O_DIRECT

sendfile

ext4 btrfs

tmpfs

文件属性

文件扩展属性(linux2.6)

Access Control Lists(ACL, linux2.6)

Directories and Links
Q: hard link vs soft(symbolic) link, 以及什么情况下使用
A: https://stackoverflow.com/questions/185899/what-is-the-difference-between-a-symbolic-link-and-a-hard-link

=== aio
aio系列:
https://man7.org/linux/man-pages/man3/aio_read.3.html
https://man7.org/linux/man-pages/man3/aio_write.3.html
https://github.com/littledan/linux-aio

glibc aio 与 linux aio

aio的缺陷:
https://zhuanlan.zhihu.com/p/334658432

=== io_uring
kernel version >= 5.1, 2019年
https://en.wikipedia.org/wiki/Io_uring
https://unixism.net/loti/index.html
https://kernel.dk/io_uring.pdf
https://lwn.net/Articles/810414/
https://arthurchiao.art/blog/intro-to-io-uring-zh/
https://kernel.taobao.org/2020/08/Introduction_to_IO_uring/
https://blog.csdn.net/csdnnews/article/details/108848646
