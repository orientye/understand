== 实战

=== Embedded Documents

- upsert 通常要分两步？
https://stackoverflow.com/questions/23470658/mongodb-upsert-sub-document
- 将array改成object: https://stackoverflow.com/questions/10277174/upsert-in-an-embedded-document 这样无法对子项建立索引
- array通常是作为一个整体的 https://docs.mongodb.com/manual/tutorial/query-array-of-documents/