= 了解availability
:hardbreaks-option:
:revnumber: 0.0.1
:author: orient
:toc:
:homepage: http://orientye.com
<<<

了解availability

●  概述

●  负载均衡

●  限流

●  降级

●  隔离

●  超时与重试

●  热更新

●  热重启

●  回滚

●  高可用架构

概述

There are three principles of systems design in reliability engineering which can help 
achieve high availability.

● Elimination of single points of failure. This means adding or building redundancy 
into the system so that failure of a component does not mean failure of the entire 
system.

● Reliable crossover. In redundant systems, the crossover point itself tends to become 
a single point of failure. Reliable systems must provide for reliable crossover.

● Detection of failures as they occur. If the two principles above are observed, then a 
user may never see a failure – but the maintenance activity must.

Q:  vs. reliability
   

概述

负载均衡

二层负载均衡
        修改MAC地址为上游服务器IP地址，源IP和目标IP不变  如LVS DR模式
四层负载均衡
        如LVS NAT模式
七层负载均衡 
        如ngnix, HAProxy

负载均衡算法

心跳与重试

负载均衡-算法

round-robin
加权/weight round-robin
random
加权/weight random
通用hash
一致性/consistent hash
least connection
least time 最小平均响应时间(nginx商业版)

带状态的负载均衡  sticky connection

高可用架构

●  双机架构

●  集群和分区

●  异地多活

