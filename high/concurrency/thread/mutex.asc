:toc:
:toclevels: 5
:hardbreaks-option:

=== mutex

==== implement
linux kernel:
https://github.com/torvalds/linux/blob/master/include/linux/mutex.h
https://github.com/torvalds/linux/blob/master/kernel/locking/mutex.c
https://0xax.gitbooks.io/linux-insides/content/SyncPrim/linux-sync-4.html

glibc:
https://github.com/bminor/glibc/blob/master/nptl/pthread_mutex_lock.c

gcc(libstdc++-v3):
https://github.com/gcc-mirror/gcc/blob/master/libstdc%2B%2B-v3/include/bits/std_mutex.h

clang(libc++):
https://github.com/llvm/llvm-project/blob/master/libcxx/src/mutex.cpp 平台相关，例如linux通过pthread

==== management
c++: std::lock_guard vs. std::scoped_lock vs. std::unique_lock

==== futex
- 主要思想: fast userspace mutex
- 实现: https://github.com/torvalds/linux/blob/master/kernel/futex.c

- 参考
https://kernel.meizu.com/2024/03/15/Futex%E6%9C%BA%E5%88%B6%E7%9A%84%E5%86%85%E6%A0%B8%E4%BC%98%E5%8C%96/

==== 参考
《The Linux Programming inTerface》30.1