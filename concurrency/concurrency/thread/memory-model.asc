:toc:
:toclevels: 5
:hardbreaks-option:

=== memory model
==== 概念
https://en.wikipedia.org/wiki/Memory_model_(programming)

- Most research in the area of memory models revolves around:
** Designing a memory model that allows a maximal degree of freedom for compiler optimizations while still giving sufficient guarantees about race-free and (perhaps more importantly) race-containing programs.
** Proving program optimizations that are correct with respect to such a memory model.

==== data race
https://en.wikipedia.org/wiki/Race_condition#Data_race
https://en.cppreference.com/w/cpp/language/multithread.html#Data_races
https://en.wikipedia.org/wiki/Race_condition#Example_definitions_of_data_races_in_particular_concurrency_models

要发生数据竞争，必须同时满足以下条件:
(1) 多线程/进程访问同一内存位置
(2) 至少有一个线程执行写操作
(3) 没有使用同步机制（如锁、原子操作、内存屏障等）来控制访问顺序

==== c
https://en.cppreference.com/w/c/language/memory_model.html

==== c++
https://en.cppreference.com/w/cpp/language/memory_model.html

==== java
https://github.com/orientye/understand/blob/main/lan/java.asc#java-memory-model-and-thread

==== csharp
https://learn.microsoft.com/en-us/archive/msdn-magazine/2012/december/csharp-the-csharp-memory-model-in-theory-and-practice
https://learn.microsoft.com/en-us/archive/msdn-magazine/2013/january/csharp-the-csharp-memory-model-in-theory-and-practice-part-2