= vulkan
:revnumber: 0.0.1
:author: orient
:homepage: http://orientye.com
:toc:
:toclevels: 5
:sectnums:
:sectnumlevels: 5
:hardbreaks-option:
:stem: latexmath
<<<

== 概览
- 现状
https://zhuanlan.zhihu.com/p/30893775459

- 设计哲学
https://vulkan-tutorial.com/Overview#page_Origin-of-Vulkan
https://zhuanlan.zhihu.com/p/20712354

- overview
https://vulkan-tutorial.com/Overview

- Vulkan 扩展命名约定
Vulkan 有一个强大而复杂的扩展系统。为了区分不同来源和状态的扩展，它们使用了特定的后缀：
KHR: 代表 Khronos。这意味着这是一个由 Khronos 自己批准和发布的、跨厂商的扩展。它通常非常重要和稳定，被多个硬件厂商（如 NVIDIA, AMD, Intel）广泛支持，目标是最终可能将其纳入未来的 Vulkan 核心规范。
EXT: 代表 EXTension。这是一个由多家公司合作开发的多厂商扩展，但尚未被 Khronos 正式批准为 KHR 扩展。它的支持范围也可能很广。
NV: 代表 NVIDIA。这是由 NVIDIA 开发的厂商特定扩展，通常只在其自家的 GPU 上可用。
AMD: 代表 AMD。这是由 AMD 开发的厂商特定扩展。
INTEL: 代表 Intel。这是由 Intel 开发的厂商特定扩展。
没有后缀: 如果类型或函数名没有任何后缀（如 VkImage, vkCmdDraw），则说明它是 Vulkan 核心 API 的一部分，不需要启用任何扩展就可以使用它们。
Q: 为什么 VkSurfaceKHR 是一个 KHR 扩展？
这源于 Vulkan 的设计哲学：平台无关性。
Vulkan 的核心规范只定义了如何与 GPU 通信，但故意没有定义如何与窗口系统交互。因为创建窗口、处理消息循环等操作是高度依赖于操作系统的，如果把这些都塞进核心 API，会使核心变得臃肿且平台相关。
因此，Khronos 将窗口系统集成功能作为一个官方的、跨平台的扩展来提供，这就是 VK_KHR_surface 扩展。

== tutorial
=== development environment
https://vulkan-tutorial.com/en/Development_environment

=== drawing a triangle
https://vulkan-tutorial.com/Drawing_a_triangle/Setup/Base_code

- validation layers
validation layers are optional components that hook into Vulkan function calls to apply additional operations. Common operations in validation layers are:
• Checking the values of parameters against the specification to detect misuse
• Tracking creation and destruction of objects to find resource leaks
• Checking thread safety by tracking the threads that calls originate from
• Logging every call and its parameters to the standard output
• Tracing Vulkan calls for profiling and replaying
实现: https://github.com/KhronosGroup/Vulkan-ValidationLayers

- physical devices and queue families

- logical device and queues

- shader modules
SPIR-V 的全称是 Standard Portable Intermediate Representation。它是一个 Khronos Group 制定的开放标准。
在 SPIR-V 出现之前，开发者通常使用高级着色语言（如 GLSL 或 HLSL）直接编写代码，然后将这些源代码交给显卡驱动程序。
SPIR-V 作为中间表示，改变了这个工作流程：
提前编译：开发者或工具链（如着色器编译器）可以提前将高级着色语言（GLSL/HLSL）编译成标准的 SPIR-V 字节码。
分发字节码：应用程序直接分发这个 SPIR-V 字节码。
驱动简化：显卡驱动程序只需要接收 SPIR-V，并进行简单的优化和转换为本机 GPU 指令。它不再需要包含一个完整的高级语言编译器。

== Command Buffers
Command buffers are objects used to record commands which can be subsequently submitted to a device queue for execution. There are two levels of command buffers - primary command buffers, which can execute secondary command buffers, and which are submitted to queues, and secondary command buffers, which can be executed by primary command buffers, and which are not directly submitted to queues.

https://docs.vulkan.org/spec/latest/chapters/cmdbuffers.html

== 管线
https://docs.vulkan.org/spec/latest/chapters/pipelines.html

== project
https://github.com/KhronosGroup/Vulkan-Samples
https://github.com/SaschaWillems/Vulkan
关系图: https://github.com/David-DiGioia/vulkan-diagrams

== 参考
https://www.vulkan.org/
https://docs.vulkan.org/spec/latest/index.html
https://docs.vulkan.org/features/latest/features/index.html
https://vulkan-tutorial.com/
https://registry.khronos.org/vulkan/
https://docs.vulkan.org/guide/latest/index.html
https://docs.vulkan.org/samples/latest/README.html
https://docs.vulkan.org/glsl/latest/index.html
https://github.com/KhronosGroup/Vulkan-Guide
https://github.com/KhronosGroup/Vulkan-Headers
https://github.com/KhronosGroup/Vulkan-Docs
https://github.com/SaschaWillems/Vulkan
https://vkguide.dev/