= unity3d
:revnumber: 0.0.1
:author: orient
:homepage: http://orientye.com
:toc:
:toclevels: 5
:sectnums:
:sectnumlevels: 5
:hardbreaks-option:
:stem: latexmath
<<<

== ç¼–è¾‘å™¨ç»“æ„
=== æ–‡ä»¶ç›®å½•

    Assets
        ä¿ç•™ç›®å½•: https://docs.unity3d.com/Manual/SpecialFolders.html
    Library
        æ ¹æ®Assetsç›®å½•ä¸‹çš„æ¸¸æˆèµ„æºç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶
        ILæŒ‡ä»¤ä¼šè¢«ç¼–è¯‘åˆ°Library/ScripAssemblies/Assembly-CSharp.dllç­‰æ–‡ä»¶ä¸­
        å¯ä»¥ä½¿ç”¨ILSpyå·¥å…·å¯¹dllè¿›è¡Œåç¼–è¯‘
    Logs
    Packages
        è¦ä½¿ç”¨åˆ°çš„åŒ…
    ProjectSetttings
    Temp
        Libraryç”Ÿæˆè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶
    UserSettings
        æœ¬åœ°å·¥ç¨‹çš„ä¸€äº›é…ç½®ä¿¡æ¯

    åªéœ€è¦æŠŠAssetsã€Packagesã€ProjectSetttingsä¸Šä¼ åˆ°SVNæˆ–Gitã€‚

    ç‰¹æ®Šçš„å·¥ç¨‹ç›®å½•:
    https://blog.uwa4d.com/archives/USparkle_Addressable2.html

=== è§†å›¾

    Projectè§†å›¾
        é¡¹ç›®çš„èµ„æºæ–‡ä»¶
        https://docs.unity3d.com/Manual/ProjectView.html
    Hierarchyè§†å›¾
        ä¿å­˜æ¸¸æˆå¯¹è±¡åŠå…¶å…³ç³»
        æ¸¸æˆå¯¹è±¡å¯ä»¥ä¿å­˜åœ¨åœºæ™¯æˆ–è€…prefabä¸­ï¼Œåœºæ™¯å’Œprefabåˆ™ä¿å­˜åœ¨projectè§†å›¾ä¸­
        https://docs.unity3d.com/Manual/Hierarchy.html
    Inspectorè§†å›¾
        å±æ€§
        https://docs.unity3d.com/Manual/UsingTheInspector.html
    Sceneè§†å›¾
        é¡¶éƒ¨çš„å¯¼èˆªæ ã€å·¦è¾¹çš„ä¾§æ ã€å³ä¸Šè§’çš„åæ ‡ç³»æ§åˆ¶å™¨ã€æ­£ä¸­é—´çš„æ¸¸æˆå¯¹è±¡çš„ç¼–è¾‘è§†å›¾
    Gameè§†å›¾
        https://docs.unity3d.com/Manual/GameView.html
    å¯¼èˆªæ è§†å›¾
        https://docs.unity3d.com/Manual/Toolbar.html
        ä¸­é—´éƒ¨åˆ†: è¿è¡Œ/å…³é—­æ¸¸æˆã€æš‚åœæ¸¸æˆã€é€å¸§æ’­æ”¾æ¸¸æˆ

    Unity ç¼–è¾‘æ¨¡å¼ä¸‹è§†è§’åˆ‡æ¢ç‰©ä½“/æ¸¸æˆå¯¹è±¡çš„æ–¹æ³•:
        åŸºæœ¬è§†è§’åˆ‡æ¢:
            é€‰ä¸­ç‰©ä½“åæŒ‰ F é”® (Frame Selected)
            åŒå‡»èšç„¦: åœ¨ Hierarchy çª—å£ä¸­åŒå‡»ç‰©ä½“åç§°
        è§†è§’ç¯ç»•ç‰©ä½“:
            èšç„¦ç‰©ä½“åæŒ‰ä½ Alt é”® + é¼ æ ‡å·¦é”®æ‹–åŠ¨å¯ä»¥ç¯ç»•è§‚å¯Ÿ
            æŒ‰ä½ Alt é”® + é¼ æ ‡å³é”®æ‹–åŠ¨å¯ä»¥ç¼©æ”¾è§†è§’
        å¤šç‰©ä½“è§†è§’åˆ‡æ¢:
            é€‰ä¸­å¤šä¸ªç‰©ä½“åæŒ‰ F é”®ï¼Œè§†è§’ä¼šè°ƒæ•´åˆ°èƒ½æ˜¾ç¤ºæ‰€æœ‰é€‰ä¸­ç‰©ä½“
        è§†è§’é¢„è®¾åŠŸèƒ½:
            ä¿å­˜è§†è§’ä½ç½®:
                è°ƒæ•´å¥½è§†è§’åï¼Œç‚¹å‡»åœºæ™¯è§†å›¾å³ä¸Šè§’çš„ç›¸æœºå›¾æ ‡
                é€‰æ‹© Save Camera Position ä¿å­˜å½“å‰è§†è§’
            å¿«é€Ÿåˆ‡æ¢é¢„è®¾è§†è§’:
                ä½¿ç”¨æ•°å­—é”® 1ã€2ã€3 ç­‰åˆ‡æ¢å·²ä¿å­˜çš„è§†è§’ä½ç½®
                é€šè¿‡ Ctrl/Cmd + æ•°å­—é”® ä¿å­˜æ–°è§†è§’ä½ç½®
        å…¶å®ƒå®ç”¨æŠ€å·§:
            æŒ‰ Shift + F å¯ä»¥è®©è§†è§’è·Ÿéšé€‰ä¸­çš„ç‰©ä½“ï¼ˆåœ¨ç§»åŠ¨ç‰©ä½“æ—¶ç‰¹åˆ«æœ‰ç”¨ï¼‰
            åœ¨ 2D æ¨¡å¼ä¸‹ï¼ŒæŒ‰ Ctrl/Cmd + Shift + F å¯ä»¥å¿«é€Ÿå¯¹é½è§†å›¾åˆ°é€‰ä¸­ç‰©ä½“
            ä½¿ç”¨åœºæ™¯è§†å›¾å³ä¸Šæ–¹çš„æ–¹å‘å°å·¥å…·å¯ä»¥å¿«é€Ÿåˆ‡æ¢åˆ°æ ‡å‡†è§†è§’ï¼ˆå‰ã€åã€å·¦ã€å³ç­‰ï¼‰
            æŒ‰ Z é”®å¯ä»¥åˆ‡æ¢ç‰©ä½“è½´å¿ƒç‚¹ä¸ä¸­å¿ƒç‚¹çš„æ˜¾ç¤ºæ–¹å¼

=== Q&A

    Q: gizmosçš„ä½œç”¨ä¸ä½¿ç”¨åœºæ™¯
    https://docs.unity3d.com/ScriptReference/Gizmos.html

    Q: UNITY_EDITORå®
    https://docs.unity3d.com/Manual/scripting-symbol-reference.html

    Q: metaæ–‡ä»¶
    meta æ–‡ä»¶æ˜¯ Unity ä¸ºé¡¹ç›®ä¸­çš„æ¯ä¸ªèµ„æºæ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆçš„é…å¥—æ–‡ä»¶ï¼ŒåŒ…å«è¯¥èµ„æºåœ¨ Unity ä¸­çš„å¯¼å…¥è®¾ç½®å’Œå¼•ç”¨ä¿¡æ¯ã€‚
    ä½œç”¨:
        èµ„æºå¯¼å…¥è®¾ç½®: å­˜å‚¨èµ„æºå¯¼å…¥æ—¶çš„å„ç§å‚æ•°é…ç½®
        GUID æ ‡è¯†: ä¸ºæ¯ä¸ªèµ„æºåˆ†é…å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦
        æ–‡ä»¶ä¾èµ–å…³ç³»: è®°å½•èµ„æºä¹‹é—´çš„å¼•ç”¨å…³ç³»
        èµ„æºç±»å‹è¯†åˆ«: å‘Šè¯‰ Unity å¦‚ä½•å¤„ç†è¯¥æ–‡ä»¶

=== ID
==== ClassID
https://docs.unity3d.com/Manual/ClassIDReference.html

ä½œç”¨:

    æ ‡è¯† Unity å†…ç½®çš„ç»„ä»¶/èµ„æºç±»å‹

ç‰¹ç‚¹:

    Unity å†…éƒ¨å®šä¹‰çš„æ•´æ•°å¸¸é‡
    æ¯ä¸ª Unity å†…ç½®ç±»å‹æœ‰å”¯ä¸€çš„ ClassID
    ä¾‹å¦‚:
        GameObject: 1
        Transform: 4
        MonoBehaviour: 114
        Texture2D: 28

Q: Unity éå†…ç½®ç±»å‹æœ‰ ClassID å—?
ä¸ä¼šæœ‰æ–°çš„ ClassIDï¼Œä½†å®ƒä»¬å…±äº«ä¸€ä¸ªé€šç”¨çš„ ClassIDï¼Œå¯¹äºè‡ªå®šä¹‰è„šæœ¬ï¼Œå³ 114 (MonoBehaviour)ã€‚Unity é€šè¿‡ m_Script å­—æ®µï¼ˆåŒ…å«è„šæœ¬çš„ guid å’Œ fileIDï¼‰æ¥åŒºåˆ†å’ŒåŠ è½½å…·ä½“çš„éå†…ç½®è„šæœ¬ç±»å‹ï¼Œè€Œä¸æ˜¯ä¸ºæ¯ä¸ªéå†…ç½®ç±»å‹åˆ†é…ä¸€ä¸ªç‹¬ç‰¹çš„ ClassIDã€‚
Classes defined from scripts will always have class ID 114.

==== GUID FileID InstanceID

    GUID (Globally Unique Identifier):
        ä½œç”¨: å”¯ä¸€æ ‡è¯†Unityé¡¹ç›®ä¸­çš„æ¯ä¸ªèµ„æºæ–‡ä»¶
        æ ¼å¼: 32ä¸ªå­—ç¬¦çš„16è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¦‚a3f2c5d1e4b6a7f8c9d0e1f2a3b4c5d6
        ç‰¹æ€§:
            æ¯ä¸ªèµ„æºæ–‡ä»¶(å¦‚çº¹ç†ã€é¢„åˆ¶ä½“ã€è„šæœ¬ç­‰)éƒ½æœ‰å”¯ä¸€çš„GUID
            å³ä½¿æ–‡ä»¶é‡å‘½åæˆ–ç§»åŠ¨ä½ç½®ï¼ŒGUIDä¿æŒä¸å˜
            å­˜å‚¨åœ¨.metaæ–‡ä»¶ä¸­

    FileID:
        ä½œç”¨: æ ‡è¯†èµ„æºæ–‡ä»¶ä¸­çš„ç‰¹å®šå¯¹è±¡æˆ–å­èµ„æº
        æ ¼å¼: æ•°å­—ï¼Œå¦‚2100000æˆ–11500000

    InstanceID:
        https://discussions.unity.com/t/an-explanation-of-how-instanceids-work/907399/3
        https://docs.unity3d.com/ScriptReference/Object.GetInstanceID.html

[cols="1,1,2,3", options="header"]
|===
| Identifier | Scope           | Persistence           | Example Use Case
| GUID       | Asset file      | Project-wide          | Tracking textures/prefabs in .meta
| FileID     | Object in asset | Asset-structure-based | Referencing a material inside an FBX
| InstanceID | Runtime object  | Session-only          | Fast GameObject lookup in gameplay
|===

At Edit Time:
Unity uses GUID + FileID to reference assets (e.g., a prefab links to a material via {GUID, FileID}).

At Runtime:
The instance ID of an object acts like a handle to the in-memory instance. It is always unique, and never has the value 0.

Q: Object.GetInstanceID vs GetHashCode()
https://discussions.unity.com/t/getinstanceid-v-gethashcode/816823
https://github.com/Unity-Technologies/UnityCsReference/blob/master/Runtime/Export/Scripting/UnityEngineObject.bindings.cs#L257

=== å‚è€ƒ
https://docs.unity3d.com/Manual/unity-editor.html

== Packages and package management
å…¥å£: Window > Package Management > Package Manager
https://docs.unity3d.com/Manual/PackagesList.html
https://docs.unity3d.com/Manual/FeatureSets.html

== asset
=== æ¦‚è¦
https://docs.unity3d.com/Manual/assets-and-media.html
https://learn.unity.com/tutorial/assets-resources-and-assetbundles
https://cloudycliff.github.io/post/unity_asset_best_practice_0/
https://blog.uwa4d.com/archives/USparkle_Addressable1.html
https://blog.uwa4d.com/archives/USparkle_Addressable2.html
https://blog.uwa4d.com/archives/USparkle_Addressable3.html

https://docs.unity3d.com/Manual/AssetWorkflow.html

Q: å¦‚ä½•æŸ¥æ‰¾èµ„æºå¼•ç”¨?

=== å¯¼å…¥
https://docs.unity3d.com/Manual/import-assets.html

ä½¿ç”¨è„šæœ¬ç®¡ç†å¯¼å…¥:
https://docs.unity3d.com/Manual/ScriptedImporters.html
https://docs.unity3d.com/ScriptReference/AssetPostprocessor.html

==== AssetMetadata
https://docs.unity3d.com/Manual/AssetMetadata.html

=== Resourcesç›®å½•
å¯ä»¥åœ¨Assetsä¸‹çš„ä»»ä½•ç›®å½•ä¸‹ï¼Œå¹¶ä¸”å¯ä»¥æœ‰ä»»æ„å¤šä»½ã€‚
æ‰€æœ‰Resourcesç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½ä¼šç›´æ¥æ‰“è¿›ä¸€ä¸ªç‰¹æ®Šçš„Bundlesä¸­ï¼Œå¹¶ä¸”åœ¨æ¸¸æˆå¯åŠ¨æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªåºåˆ—åŒ–æ˜ å°„è¡¨ï¼Œå¹¶åŠ è½½è¿›å†…å­˜é‡Œã€‚
https://blog.uwa4d.com/archives/USparkle_Addressable2.html

é€‚ç”¨åœºæ™¯:
æŸäº›èµ„æºæ˜¯é¡¹ç›®æ•´ä¸ªç”Ÿå‘½å‘¨æœŸéƒ½å¿…é¡»è¦ç”¨çš„
æœ‰äº›å¾ˆé‡è¦ï¼Œä½†æ˜¯å´ä¸æ€ä¹ˆå å†…å­˜çš„
ä¸æ€ä¹ˆéœ€è¦å˜åŒ–ï¼Œå¹¶ä¸”ä¸éœ€è¦è¿›è¡Œå¹³å°å·®å¼‚åŒ–å¤„ç†çš„
ç”¨äºç³»ç»Ÿå¯åŠ¨æ—¶å€™æœ€å°å¼•å¯¼çš„

=== StreamingAssetsç›®å½•
https://docs.unity3d.com/Manual/StreamingAssets.html
Unityå‘å¸ƒç¨‹åºæˆ–è€…æ¸¸æˆï¼Œèµ„æºéšåŒ…å‡ºå»çš„ï¼Œåªæœ‰2ä¸ª: Resourcesç›®å½•ï¼Œä»¥åŠStreamingAssetsã€‚
è¿™ä¸ªç›®å½•çš„ä¸‹çš„æ–‡ä»¶ï¼Œéƒ½ä¼šåŸå°ä¸åŠ¨çš„å¤åˆ¶åˆ°æœ€ç»ˆçš„APKæˆ–è€…iOSçš„åŒ…å†…ã€‚

é€‚ç”¨åœºæ™¯:
StreamingAssetsé€‚åˆå­˜æ”¾é‚£äº›ä¸éœ€è¦è¿è¡Œæ—¶ä¿®æ”¹ä½†éœ€è¦éšåŒ…ä½“ä¸€èµ·å‘å¸ƒçš„åŸå§‹èµ„æºæ–‡ä»¶ã€‚

=== The Asset Database
https://docs.unity3d.com/Manual/AssetDatabase.html
https://docs.unity3d.com/ScriptReference/AssetDatabase.html

=== AssetBundle
==== æ¦‚è¦
https://docs.unity3d.com/Manual/AssetBundlesIntro.html

https://learn.unity.com/tutorial/assets-resources-and-assetbundles#5c7f8528edbc2a002053b5a7
https://learn.unity.com/tutorial/assets-resources-and-assetbundles#5c7f8528edbc2a002053b5a9

==== Layout
https://learn.unity.com/tutorial/assets-resources-and-assetbundles#5c7f8528edbc2a002053b5a7

==== Loading AssetBundles
https://docs.unity3d.com/ScriptReference/AssetBundle.LoadFromFile.html
https://docs.unity3d.com/ScriptReference/Networking.UnityWebRequest.html

==== Loading Assets From AssetBundles
https://docs.unity3d.com/ScriptReference/AssetBundle.html

- LoadAsset (LoadAssetAsync)
- LoadAllAssets (LoadAllAssetsAsync)
- LoadAssetWithSubAssets (LoadAssetWithSubAssetsAsync)

===== Low-level loading details
nityEngine.Object loading is performed off the main thread: an Object's data is read from storage on a worker thread. Anything which does not touch thread-sensitive parts of the Unity system (scripting, graphics) will be converted on the worker thread. For example, VBOs will be created from meshes, textures will be decompressed, etc.
From Unity 5.3 onward, Object loading has been parallelized. Multiple Objects are deserialized, processed and integrated on worker threads. When an Object finishes loading, its Awake callback will be invoked and the Object will become available to the rest of the Unity Engine during the next frame.
The synchronous AssetBundle.Load methods will pause the main thread until Object loading is complete. They will also time-slice Object loading so that Object integration does not occupy more than a certain number of milliseconds of frame time. The number of milliseconds is set by the property Application.backgroundLoadingPriority:
ThreadPriority.High: Maximum 50 milliseconds per frame
ThreadPriority.Normal: Maximum 10 milliseconds per frame
ThreadPriority.BelowNormal: Maximum 4 milliseconds per frame
ThreadPriority.Low: Maximum 2 milliseconds per frame.
From Unity 5.2 onwards, multiple Objects are loaded until the frame-time limit for Object loading is reached. Assuming all other factors are equal, the asynchronous variants of the asset loading APIs will always take longer to complete than the comparable synchronous version due to the minimum one-frame delay between issuing the asynchronous call and the object becoming available to the Engine.

===== AssetBundleä¾èµ–
https://docs.unity3d.com/Manual/AssetBundles-Dependencies.html

Q: å¾ªç¯ä¾èµ–ï¼Ÿ

===== AssetBundle manifestæ–‡ä»¶
https://docs.unity3d.com/ScriptReference/AssetBundleManifest.html

===== assetè¿›bundle
https://docs.unity3d.com/Manual/AssetBundles-Preparing.html

===== AssetBundleå˜ä½“(AssetBundleVariant)

==== xasset
https://github.com/xasset/xasset

==== YooAsset
https://github.com/tuyoogame/YooAsset

==== The Addressable Asset System
https://docs.unity3d.com/Manual/com.unity.addressables.html

ç¼ºç‚¹:
https://www.cnblogs.com/LiuOcean-Blog/p/wei-shen-me-pao-qi-le-addressable.html

==== asset graph
https://docs.unity3d.com/Packages/com.unity.assetgraph@1.6/manual/index.html

==== å‚è€ƒ
https://zhuanlan.zhihu.com/p/660510471

== script
=== scripting-backends
==== JITä¸AOT
JIT: Just-In-Timeï¼Œç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­è¿›è¡Œè½¬è¯‘
AOT: Ahead-Of-Timeï¼Œæå‰å°†ILè½¬è¯‘æˆæœºå™¨ç å¹¶ä¸”å­˜å‚¨åœ¨æ–‡ä»¶ä¸­ï¼Œæ­¤æ–‡ä»¶ä¸èƒ½å®Œå…¨ç‹¬ç«‹è¿è¡Œ
å®Œå…¨é™æ€ç¼–è¯‘: åªæ”¯æŒå°‘æ•°å¹³å°ï¼ŒåŸºäºAOTè¿›ä¸€æ­¥ç”Ÿæˆæ‰€æœ‰çš„æœºå™¨ç 

==== mono
è§£å†³C#çš„è·¨å¹³å°é—®é¢˜(åœ¨monoä¹‹å‰ï¼ŒC#åªåœ¨windowså¹³å°ä¸Šä½¿ç”¨)ã€‚

å¼€å‘æ¨¡å¼ä¸‹ä½¿ç”¨çš„æ˜¯mono:
https://docs.unity3d.com/Manual/Mono.html

åœ¨æ¸¸æˆå‘å¸ƒåè‡ªåŠ¨å°†DLLè½¬æ¢æˆIL2CPPçš„æ–¹å¼ã€‚

==== IL2CPP
- unityé‡‡ç”¨IL2CPPçš„åŸå› 

    ä¸ºäº†è§£å†³monoçš„é—®é¢˜ï¼Œunityæ¨å‡ºäº†il2cpp, å°†c#è½¬æˆc/c++ä»£ç ï¼Œè¿›è€Œç¼–è¯‘å‡ºnativeäºŒè¿›åˆ¶ä»£ç ã€‚
    C#çš„ä¸€äº›é«˜çº§ç‰¹æ€§ï¼Œæ¯”å¦‚åƒåœ¾å›æ”¶ï¼Œçº¿ç¨‹ç­‰ï¼Œåˆ™éƒ½å®ç°åˆ°il2cpp runtimeåº“(il2cpp vm)ä¸Šã€‚

    Mono VMåœ¨å„ä¸ªå¹³å°ç§»æ¤ï¼Œç»´æŠ¤éå¸¸è€—æ—¶ï¼Œæœ‰æ—¶ç”šè‡³ä¸å¯èƒ½å®Œæˆ
    Monoç‰ˆæœ¬æˆæƒå—é™ï¼Œæ¢IL2CPPï¼ŒIL2CPP VMæ˜¯å®Œå…¨è‡ªå·±å¼€å‘çš„ç»„ä»¶ï¼Œä»è€Œè§£å†³äº†æˆæƒé—®é¢˜
    æé«˜è¿è¡Œæ•ˆç‡ï¼Œæ¢æˆIL2CPPä»¥åï¼Œç¨‹åºç¼–è¯‘æˆäº†ç¡¬ä»¶ç›®æ ‡æœºå™¨æŒ‡ä»¤ï¼Œè¿è¡Œæ•ˆç‡æå‡

- åƒåœ¾å›æ”¶
The Boehm-Demers-Weiser conservative C/C++ Garbage Collector (bdwgc, also known as bdw-gc, boehm-gc, libgc)
https://github.com/ivmai/bdwgc
åŸºæœ¬åŸç†æ˜¯åœ¨newå’Œdeleteæ—¶è®°å½•å¼•ç”¨å…³ç³»ï¼Œåœ¨æ”¶é›†åƒåœ¾çš„æ—¶å€™è¿›è¡Œæ‰«æï¼Œå¸è½½æ— ç”¨çš„åƒåœ¾å†…å­˜ã€‚

- æºç 
unityè‡ªå¸¦æºç ä½ç½®:
    windows: Editor\2022.3.32f1\Editor\Data\il2cpp
    OSX: Contents/Frameworks/il2cpp/build
https://github.com/4ch12dy/il2cpp/
https://www.lfzxb.top/il2cpp-all-in-one/

- å‚è€ƒ
https://docs.unity3d.com/Manual/IL2CPP.html
https://blog.unity.com/topic/il2cpp
https://blog.unity.com/search?q=il2cpp
https://blog.unity.com/engine-platform/an-introduction-to-ilcpp-internals

==== coreclr
https://blog.unity.com/engine-platform/porting-unity-to-coreclr

==== æ‰©å±•
https://github.com/jacksondunstan/UnityNativeScripting

==== å‚è€ƒ
https://docs.unity3d.com/Manual/scripting-backends.html

=== ExecutionOrder
https://docs.unity3d.com/Manual/ExecutionOrder.html

- å¤šä¸ªè„šæœ¬çš„æ‰§è¡Œé¡ºåº
Project Settings -> Script Execution Order
DefaultExecutionOrder attribute:
https://docs.unity3d.com/2022.3/Documentation/ScriptReference/DefaultExecutionOrder.html
RuntimeInitializeOnLoadMethodAttribute:
https://docs.unity3d.com/ScriptReference/RuntimeInitializeOnLoadMethodAttribute.html

- +UniTaskæ‰§è¡Œé¡ºåº
https://gist.github.com/neuecc/bc3a1cfd4d74501ad057e49efcd7bdae

=== coroutine
==== unity coroutines
https://docs.unity3d.com/Manual/Coroutines.html
https://docs.unity3d.com/Manual/ExecutionOrder.html#Coroutines

vs. async/await:
https://discussions.unity.com/t/differences-between-async-await-c-and-coroutines-unity3d/680771

ä¸UniTaskæ¯”è¾ƒ:
å†…ç½®åç¨‹ç›¸æ¯”äºUniTaskï¼Œå‡ ä¹æ²¡ä»€ä¹ˆä¼˜åŠ¿ï¼Œä¸€èˆ¬ä¸å¤ªå»ºè®®ä½¿ç”¨ã€‚
https://medium.com/@burakzgen/unity-tips-6-b47d3af4b9ff

ç”¨æ³•:

    IEnumerator
    yield return:
        yield return null ç­‰å¾…ä¸€å¸§
        yield return StartCoroutine(CallSomething())
        yield return new WaitForSeconds(5)
        yield return new WaitForFixedUpdate()

==== UniTask
===== æ¦‚è§ˆ
https://github.com/Cysharp/UniTask
https://neuecc.medium.com/unitask-v2-zero-allocation-async-await-for-unity-with-asynchronous-linq-1aa9c96aa7dd

===== è®¾è®¡ç›®æ ‡
UniTask çš„æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯ä¸º Unity æä¾›ä¸€ä¸ªé«˜æ€§èƒ½ã€é›¶åˆ†é…ã€ä¸ Unity æ·±åº¦é›†æˆçš„å¼‚æ­¥/ç­‰å¾…è§£å†³æ–¹æ¡ˆï¼Œä»¥è§£å†³æ ‡å‡† System.Threading.Tasks.Task åœ¨ Unity ä¸­çš„ä¸€äº›ç—›ç‚¹ï¼Œå¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒå±‚é¢æ¥ç†è§£:
a) ä½å†…å­˜åˆ†é…:
æ ‡å‡†çš„ Task å’Œ async/await åœ¨æ¯æ¬¡è°ƒç”¨æ—¶éƒ½ä¼šåœ¨å †ä¸Šåˆ†é…çŠ¶æ€æœºå¯¹è±¡ï¼Œè¿™ä¼šå¯¼è‡´ GCï¼ˆåƒåœ¾å›æ”¶ï¼‰å‹åŠ›ï¼Œåœ¨æ¯å¸§éœ€è¦å¤„ç†å¤§é‡å¼‚æ­¥æ“ä½œçš„æ¸¸æˆä¸­è¿™æ˜¯ä¸å¯æ¥å—çš„ã€‚UniTask é€šè¿‡ä½¿ç”¨å€¼ç±»å‹ï¼ˆstructï¼‰æ›¿ä»£å¼•ç”¨ç±»å‹ï¼ˆclassï¼‰æ¥å®ç°é›¶æˆ–æä½çš„å†…å­˜åˆ†é…ã€‚
b) æ·±åº¦é›†æˆ Unity:
UniTask ä¸æ˜¯ .NET Task çš„ç®€å•ç§»æ¤ï¼Œè€Œæ˜¯ä¸º Unity çš„å•çº¿ç¨‹ã€åŸºäºä¸»å¾ªç¯çš„æ¶æ„é‡èº«å®šåˆ¶çš„ã€‚å®ƒå¤©ç„¶æ”¯æŒ PlayerLoopSystemï¼ˆUnity çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¦‚ Update, LateUpdate, FixedUpdate ç­‰ï¼‰ï¼Œå¯ä»¥è½»æ¾åœ°åœ¨æŒ‡å®šçš„å¸§æ—¶æœºæ¢å¤æ‰§è¡Œã€‚
c) è½»é‡çº§ä¸é«˜æ€§èƒ½:
é€šè¿‡ç§»é™¤ Task ä¸­æ¸¸æˆå¼€å‘ä¸éœ€è¦çš„å¤æ‚åŠŸèƒ½ï¼ˆå¦‚å¤æ‚çš„å¼‚å¸¸å¤„ç†ã€å–æ¶ˆä»¤ç‰ŒåµŒå¥—ã€å¤šç§ä»»åŠ¡è°ƒåº¦å™¨ç­‰ï¼‰ï¼Œä¿æŒä»£ç åº“çš„ç²¾ç®€å’Œé«˜æ•ˆã€‚

===== API
====== æ¦‚è¦
https://github.com/Cysharp/UniTask/?tab=readme-ov-file#table-of-contents
https://github.com/Cysharp/UniTask/?tab=readme-ov-file#api-references

====== UniTask.Forget()
- æ¦‚å¿µ
å½“è°ƒç”¨UniTask.Forget()æ—¶ï¼Œå®é™…ä¸Šæ˜¯å¯åŠ¨äº†ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œä½†è°ƒç”¨è€…ç«‹å³"é—å¿˜"äº†è¿™ä¸ªä»»åŠ¡ï¼Œä¸å†å¯¹å…¶è¿›è¡Œæ˜¾å¼çš„ç­‰å¾…æˆ–ç®¡ç†ã€‚è¿™æ„å‘³ç€ä»è°ƒç”¨Forget()çš„é‚£ä¸€åˆ»èµ·ï¼Œè¿™ä¸ªå¼‚æ­¥ä»»åŠ¡å°±å¼€å§‹åœ¨åå°ç‹¬ç«‹è¿è¡Œï¼Œè°ƒç”¨è€…ä¸ä¼šå› ä¸ºè¿™ä¸ªä»»åŠ¡æœªå®Œæˆè€Œè¢«é˜»å¡ç­‰å¾…ã€‚

- æ½œåœ¨çš„é—®é¢˜
(1)èµ„æºé‡Šæ”¾
ç”±äºè°ƒç”¨è€…ä¸å†è·Ÿè¸ªè¿™ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œå®ƒå¯èƒ½ä¼šåœ¨åå°æŒç»­è¿è¡Œï¼Œå³ä½¿åœ¨æŸäº›æƒ…å†µä¸‹å®ƒå·²ç»ä¸å†éœ€è¦ã€‚å¦‚æœè¿™ä¸ªå¼‚æ­¥ä»»åŠ¡å¼•ç”¨äº†ä¸€äº›èµ„æº(å¦‚æ•°æ®åº“è¿æ¥ã€æ–‡ä»¶å¥æŸ„ç­‰)ï¼Œå¹¶ä¸”æ²¡æœ‰æ­£ç¡®åœ°é‡Šæ”¾è¿™äº›èµ„æºï¼Œå°±å¯èƒ½å¯¼è‡´èµ„æºæ³„æ¼ã€‚
ä¾‹å¦‚ï¼Œå¦‚æœå¼‚æ­¥ä»»åŠ¡ä¸­æ‰“å¼€äº†ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå†™å…¥ï¼Œä½†æ²¡æœ‰åœ¨ä»»åŠ¡å®Œæˆæ—¶å…³é—­æ–‡ä»¶ï¼Œè€Œè°ƒç”¨è€…åˆæ— æ³•çŸ¥é“ä»»åŠ¡ä½•æ—¶å®Œæˆï¼Œå°±å¯èƒ½å¯¼è‡´æ–‡ä»¶ä¸€ç›´å¤„äºæ‰“å¼€çŠ¶æ€ï¼Œå ç”¨ç³»ç»Ÿèµ„æºã€‚
(2)å¼‚å¸¸å¤„ç†
å¦‚æœå¼‚æ­¥ä»»åŠ¡åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œè°ƒç”¨è€…å¯èƒ½æ— æ³•å¯Ÿè§‰ã€‚å› ä¸ºè°ƒç”¨è€…å·²ç»"é—å¿˜"äº†è¿™ä¸ªä»»åŠ¡ï¼Œä¸ä¼šæ•è·ä»»ä½•å¯èƒ½ç”±è¿™ä¸ªä»»åŠ¡æŠ›å‡ºçš„å¼‚å¸¸ã€‚è¿™å¯èƒ½å¯¼è‡´ç¨‹åºå‡ºç°æœªé¢„æœŸçš„è¡Œä¸ºæˆ–é”™è¯¯ï¼Œå¹¶ä¸”éš¾ä»¥è°ƒè¯•æˆ–è€…ç¡®å®šé—®é¢˜çš„æ ¹æºã€‚
æ­¤æ—¶ï¼Œå»ºè®®æ•è·å¼‚å¸¸ã€‚

- é€‚ç”¨åœºæ™¯
UniTask.Forget()é€šå¸¸é€‚ç”¨äºé‚£äº›ä¸éœ€è¦ç«‹å³ç»“æœã€å¯¹ç»“æœä¸æ•æ„Ÿæˆ–è€…å¯ä»¥åœ¨åå°æŒç»­è¿è¡Œè€Œä¸å½±å“ç¨‹åºä¸»è¦é€»è¾‘çš„å¼‚æ­¥ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œæ—¥å¿—è®°å½•ã€åå°æ•°æ®åŒæ­¥ç­‰ä»»åŠ¡ã€‚

- æ³¨æ„äº‹é¡¹
åœ¨ä½¿ç”¨UniTask.Forget()æ—¶ï¼Œåº”è¯¥ç¡®ä¿å¼‚æ­¥ä»»åŠ¡ä¸ä¼šå¯¼è‡´ä¸¥é‡çš„èµ„æºæ³„æ¼æˆ–æ„å¤–çš„å‰¯ä½œç”¨ã€‚å¦‚æœå¼‚æ­¥ä»»åŠ¡æ¶‰åŠåˆ°é‡è¦çš„èµ„æºç®¡ç†æˆ–å¯èƒ½äº§ç”Ÿä¸¥é‡é”™è¯¯ï¼Œåº”è¯¥è€ƒè™‘ä½¿ç”¨å…¶å®ƒæ–¹å¼æ¥ç®¡ç†å¼‚æ­¥ä»»åŠ¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¦‚ç­‰å¾…ä»»åŠ¡å®Œæˆã€ä½¿ç”¨å–æ¶ˆä»¤ç‰Œç­‰ã€‚
åŒæ—¶ï¼Œåº”è¯¥å¯¹å¼‚æ­¥ä»»åŠ¡è¿›è¡Œé€‚å½“çš„é”™è¯¯å¤„ç†ï¼Œä¾‹å¦‚åœ¨å¼‚æ­¥ä»»åŠ¡ä¸­ä½¿ç”¨try-catchå—æ¥æ•è·å¼‚å¸¸ï¼Œå¹¶é‡‡å–é€‚å½“çš„æªæ–½è¿›è¡Œå¤„ç†ï¼Œä»¥é¿å…å¼‚å¸¸è¢«å¿½ç•¥è€Œå¯¼è‡´ç¨‹åºå‡ºç°ä¸å¯é¢„æµ‹çš„è¡Œä¸ºã€‚

- å®ç°
https://github.com/Cysharp/UniTask/blob/master/src/UniTask/Assets/Plugins/UniTask/Runtime/UniTaskExtensions.cs
https://github.com/Cysharp/UniTask/blob/master/src/UniTask/Assets/Plugins/UniTask/Runtime/UniTaskVoid.cs

====== Q&A
- UniTask.Yield vs UniTask.NextFrame

===== å®ç°åŸç†
a) åŸºäºå€¼ç±»å‹çš„ UniTask ç»“æ„ä½“
ä¸ System.Threading.Tasks.Taskï¼ˆä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼‰ä¸åŒï¼ŒUniTask å’Œ UniTask<T> éƒ½æ˜¯ structï¼ˆå€¼ç±»å‹ï¼‰ã€‚

çŠ¶æ€æœºå­˜å‚¨åœ¨æ ˆä¸Š:
å½“ä½¿ç”¨ async/await æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªçŠ¶æ€æœºã€‚å¯¹äº Taskï¼Œè¿™ä¸ªçŠ¶æ€æœºæ˜¯ä¸€ä¸ª classï¼Œåˆ†é…åœ¨å †ä¸Šã€‚è€Œå¯¹äº UniTaskï¼ŒC# ç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ª struct çŠ¶æ€æœºï¼Œé€šå¸¸åˆ†é…åœ¨æ ˆä¸Šï¼Œä»è€Œé¿å…äº†æ‰˜ç®¡å †çš„å†…å­˜åˆ†é…ã€‚

IUniTaskSource æ¥å£:
è™½ç„¶ UniTask æœ¬èº«æ˜¯å€¼ç±»å‹ï¼Œä½†å®ƒéœ€è¦ä¸å®é™…çš„å¼‚æ­¥æ“ä½œæºè¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯é€šè¿‡ IUniTaskSource å’Œ IUniTaskSource<T> æ¥å£å®ç°çš„ã€‚å…·ä½“çš„å¼‚æ­¥æ“ä½œï¼ˆå¦‚å»¶æ—¶ã€èµ„æºåŠ è½½ã€Web è¯·æ±‚ï¼‰ä¼šå®ç°è¿™ä¸ªæ¥å£ã€‚UniTask ç»“æ„ä½“å†…éƒ¨åªæŒæœ‰ä¸€ä¸ªå¯¹ IUniTaskSource çš„å¼•ç”¨å’Œä¸€ä¸ª tokenï¼Œæœ¬èº«éå¸¸è½»é‡ã€‚é€šè¿‡å¯¹è±¡æ± ç­‰æŠ€æœ¯å¯ä»¥å¤ç”¨è¿™äº›æºå¯¹è±¡ï¼Œè¿›ä¸€æ­¥å‡å°‘åˆ†é…ã€‚

b) è‡ªå®šä¹‰å¼‚æ­¥æ–¹æ³•æ„å»ºå™¨ï¼ˆAsyncMethodBuilderï¼‰
C# çš„ async/await è¯­æ³•ç³–èƒŒåæ˜¯ç”±ä¸€ä¸ªæ„å»ºå™¨ç±»å‹é©±åŠ¨çš„ã€‚å¯¹äº Taskï¼Œç¼–è¯‘å™¨ä½¿ç”¨ AsyncTaskMethodBuilderã€‚UniTask æä¾›äº†è‡ªå·±çš„ AsyncUniTaskMethodBuilder å’Œ AsyncUniTaskMethodBuilder<T>ã€‚

è¿™ä¸ªè‡ªå®šä¹‰æ„å»ºå™¨è´Ÿè´£:
åˆ›å»ºå’Œå¯åŠ¨ struct çŠ¶æ€æœºã€‚
åœ¨å¼‚æ­¥æ“ä½œå®Œæˆæ—¶è®¾ç½®ç»“æœæˆ–å¼‚å¸¸ã€‚
è¿”å›åˆ° Unity ä¸»çº¿ç¨‹çš„ä¸Šä¸‹æ–‡: æ„å»ºå™¨çŸ¥é“å½“å‰æ“ä½œæ˜¯åœ¨ Unity çš„å“ªä¸ªçº¿ç¨‹ä¸Šå‘èµ·çš„ï¼Œå¹¶ç¡®ä¿ await ä¹‹åçš„ä»£ç é»˜è®¤åœ¨ Unity ä¸»çº¿ç¨‹ä¸Šæ¢å¤ï¼Œä»è€Œå®‰å…¨åœ°è°ƒç”¨ Transform, GameObject ç­‰ APIã€‚

c) PlayerLoop é›†æˆ
UniTask å®ƒå°†è‡ªå·±èå…¥äº† Unity çš„ç©å®¶å¾ªç¯ï¼ˆPlayer Loopï¼‰ã€‚

åŸç”Ÿé—®é¢˜: Unity ä¼ ç»Ÿçš„åç¨‹ï¼ˆCoroutineï¼‰åŸºäº IEnumerator å’Œ yield return æŒ‡ä»¤ï¼Œè¿”å›çš„æ˜¯ YieldInstruction å¯¹è±¡ï¼ˆå¦‚ WaitForSeconds, WaitForEndOfFrameï¼‰ã€‚è¿™äº› yield æŒ‡ä»¤ä¼šäº§ç”Ÿ GC åˆ†é…ï¼Œå¹¶ä¸”åŠŸèƒ½æœ‰é™ã€‚

UniTask åˆ›å»ºäº†å¯¹åº”çš„ã€æ›´é«˜æ•ˆçš„ç­‰å¾…æœºåˆ¶ã€‚ä¾‹å¦‚:
UniTask.Yield(PlayerLoopTiming.Update) ä»£æ›¿ yield return nullï¼Œåœ¨ä¸‹ä¸€å¸§ Update ä¹‹åç»§ç»­ã€‚
UniTask.Delay(1000) ä»£æ›¿ new WaitForSeconds(1)ï¼Œå®ç°å»¶æ—¶ã€‚
UniTask.WaitForEndOfFrame() ä»£æ›¿ yield return new WaitForEndOfFrame()ã€‚

åº•å±‚å®ç°: UniTask å†…éƒ¨æœ‰ä¸€ä¸ªè°ƒåº¦å™¨ï¼Œå®ƒå°†è‡ªå·±çš„å»¶ç»­ï¼ˆContinuationï¼‰æ“ä½œæ³¨å†Œåˆ° Unity ç©å®¶å¾ªç¯çš„ç‰¹å®šé˜¶æ®µï¼ˆå¦‚ Update, FixedUpdate, LateUpdate, PreRender, PostRender ç­‰ï¼‰ã€‚å½“æ¸¸æˆè¿è¡Œåˆ°è¯¥é˜¶æ®µæ—¶ï¼ŒUnity çš„ç©å®¶å¾ªç¯ä¼šé©±åŠ¨ UniTask çš„è°ƒåº¦å™¨ï¼Œä»è€Œæ¢å¤ç­‰å¾…ä¸­çš„å¼‚æ­¥æ“ä½œã€‚

d) ä¸°å¯Œçš„å·¥å…·å’Œæ“ä½œç¬¦
UniTask æä¾›äº†å¤§é‡ç”¨äºæ§åˆ¶å’Œç»„åˆå¼‚æ­¥æ“ä½œçš„å·¥å…·:
Cancellation: é€šè¿‡ CancellationToken å’Œ CancellationTokenSource æ”¯æŒå–æ¶ˆæ“ä½œï¼Œä¸ UniTask æ·±åº¦é›†æˆï¼Œæ¯” Task çš„å–æ¶ˆæ›´è½»é‡ã€‚
AsyncLazy: å»¶è¿Ÿæ‰§è¡Œä¸”ä¿è¯åªæ‰§è¡Œä¸€æ¬¡çš„å¼‚æ­¥èµ„æºåŠ è½½ã€‚
UniTask.WhenAll / UniTask.WhenAny: ç­‰å¾…æ‰€æœ‰æˆ–ä»»æ„ä¸€ä¸ªä»»åŠ¡å®Œæˆã€‚è¿™äº›æ“ä½œç¬¦æœ¬èº«ä¹Ÿç»è¿‡é«˜åº¦ä¼˜åŒ–ï¼Œåˆ†é…æå°‘ã€‚
UniTask.Void / UniTask.Forget: ç”¨äºè§¦å‘å³å‘å³å¼ƒï¼ˆfire-and-forgetï¼‰çš„å¼‚æ­¥æ“ä½œï¼Œæ— éœ€ç­‰å¾…å…¶å®Œæˆã€‚
UniTask.Retry / UniTask.Timeout: ä¸ºå¼‚æ­¥æ“ä½œæ·»åŠ é‡è¯•æˆ–è¶…æ—¶é€»è¾‘ã€‚

e) çº¿ç¨‹å¤„ç†
UniTask é»˜è®¤è®¾è®¡ä¸ºåœ¨ Unity çš„ä¸»çº¿ç¨‹ä¸Šå·¥ä½œï¼Œå»¶ç»­ï¼ˆcontinuationï¼‰é»˜è®¤ä¼šåœ¨å‘å¸ƒå®ƒçš„åŒæ­¥ä¸Šä¸‹æ–‡ï¼ˆSynchronizationContextï¼‰ä¸Šæ‰§è¡Œï¼Œè¿™ç¡®ä¿äº†çº¿ç¨‹å®‰å…¨ã€‚
ä¸»çº¿ç¨‹å®‰å…¨: å½“ await ä¸€ä¸ªæ“ä½œåï¼Œåé¢çš„ä»£ç é»˜è®¤ä¼šå›åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œå¯ä»¥å®‰å…¨åœ°è®¿é—®å’Œä¿®æ”¹ Unity çš„å¯¹è±¡ã€‚
åˆ‡æ¢åˆ°çº¿ç¨‹æ± : å®ƒä¹Ÿæ”¯æŒä½¿ç”¨ UniTask.RunOnThreadPool() æˆ– UniTask.SwitchToThreadPool() å°†è€—æ—¶è®¡ç®—ä»»åŠ¡å¸è½½åˆ°åå°çº¿ç¨‹æ± ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚
åˆ‡æ¢å›ä¸»çº¿ç¨‹: åœ¨åå°çº¿ç¨‹å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ UniTask.SwitchToMainThread() åˆ‡æ¢å›ä¸»çº¿ç¨‹ï¼Œä»¥æ›´æ–°UIæˆ–å¤„ç†Unityå¯¹è±¡ã€‚

f) å¼‚æ­¥æ“ä½œçŠ¶æ€æœºå¤ç”¨
å¯¹äºé«˜é¢‘è°ƒç”¨çš„å¼‚æ­¥æ“ä½œï¼ˆå¦‚ç½‘ç»œæ¶ˆæ¯å¤„ç†ï¼‰ï¼ŒUniTask æä¾›äº† UniTask.Retry, UniTask.Repeat ç­‰æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å†…éƒ¨ä¼šå°½å¯èƒ½å¤ç”¨çŠ¶æ€æœºå’Œå¼‚æ­¥æºï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½åˆ›å»ºæ–°çš„ï¼Œä»è€Œå°†æ€§èƒ½å¼€é”€é™åˆ°æœ€ä½ã€‚

===== ç¤ºä¾‹

===== å®ç°
https://github.com/Cysharp/UniTask/

- AsyncUniTaskMethodBuilder
https://github.com/Cysharp/UniTask/blob/master/src/UniTask/Assets/Plugins/UniTask/Runtime/CompilerServices/AsyncUniTaskMethodBuilder.cs

=== åºåˆ—åŒ–
https://docs.unity3d.com/Manual/script-serialization.html

ä½¿ç”¨åœºæ™¯:
https://docs.unity3d.com/Manual/script-serialization-how-unity-uses.html

é…ç½®:
Project Settings -> Editor -> Asset Serialization -> Mode æ¨èä½¿ç”¨Force Textï¼Œæ–¹ä¾¿æŸ¥çœ‹ï¼Œä¸ä¼šå½±å“æœ€ç»ˆæ¸¸æˆçš„å‘å¸ƒæ•ˆç‡

æ ¼å¼æè¿°:
https://docs.unity3d.com/Manual/FormatDescription.html

åºåˆ—åŒ–åµŒå¥—:
åŸºç¡€ç±»å‹ä»¥åŠæ•°ç»„ç­‰æ”¯æŒåºåˆ—åŒ–ï¼Œä½†æœ‰äº›ç±»å‹ä¸æ”¯æŒåºåˆ—åŒ–ï¼Œä¾‹å¦‚å­—å…¸ã€List<List<T>>ç­‰ï¼Œéœ€è¦åŒ…è£…åœ¨ç±»é‡Œã€‚

åºåˆ—åŒ–å¼•ç”¨

åºåˆ—åŒ–ç»§æ‰¿

=== è„šæœ¬å±æ€§(Attributes)
- å…¬å…±/éå…¬å…±å±æ€§
éå…¬å…±å±æ€§: é»˜è®¤æƒ…å†µä¸‹ï¼Œéå…¬å…±å±æ€§(privateæˆ–protected)ä¸ä¼šåœ¨Inspectorä¸­æ˜¾ç¤ºã€‚
[SerializeField]: ç”¨äºåœ¨Inspectorä¸­æ˜¾ç¤ºéå…¬å…±å±æ€§ã€‚
[HideInInspector]: ç”¨äºéšè—å…¬å…±å±æ€§ï¼Œä½¿å…¶ä¸åœ¨Inspectorä¸­æ˜¾ç¤ºã€‚

- åºåˆ—åŒ–å±æ€§

- Headerå±æ€§

- ç¼–è¾‘æ¨¡å¼ä¸‹æ‰§è¡Œè„šæœ¬

- æšä¸¾åºåˆ—åŒ–åˆ«å

- å¿…é¡»åŒ…å«çš„ç»„ä»¶

- å…¶å®ƒUIæ‰©å±•é¢æ¿

- å¯é€‰æ‹©å±æ€§

- è‡ªå®šä¹‰å±æ€§

- å‚è€ƒ
https://docs.unity3d.com/Documentation/Manual/unity-attributes.html
https://github.com/teebarjunk/Unity-Built-In-Attributes

=== é€šè¿‡è„šæœ¬æ“ä½œå¯¹è±¡å’Œç»„ä»¶
DontDestoryOnLoad():
https://docs.unity3d.com/ScriptReference/Object.DontDestroyOnLoad.html

=== å‚è€ƒ
https://docs.unity3d.com/Manual/ScriptingSection.html

== API
=== ç±»å±‚æ¬¡
https://docs.unity3d.com/400/Documentation/ScriptReference/20_class_hierarchy.html

=== Object
https://docs.unity3d.com/Manual/class-Object.html
https://docs.unity3d.com/ScriptReference/Object.html

UnityEngine.Object vs. System.Object
https://discussions.unity.com/t/object-vs-object/172536

=== GameObject
https://docs.unity3d.com/Manual/GameObjects.html
https://docs.unity3d.com/ScriptReference/GameObject.html
æ¸¸æˆå¯¹è±¡

=== Component
https://docs.unity3d.com/Manual/unity-components.html
https://docs.unity3d.com/ScriptReference/Component.html
æ¸¸æˆç»„ä»¶

æ¸¸æˆç»„ä»¶ä¸æ¸¸æˆå¯¹è±¡çš„å…³ç³»

æ¸¸æˆç»„ä»¶çš„ç§ç±»

=== MonoBehaviour
==== ç®€ä»‹
https://docs.unity3d.com/Manual/class-MonoBehaviour.html
https://docs.unity3d.com/ScriptReference/MonoBehaviour.html
æ¸¸æˆè„šæœ¬

ç»§æ‰¿å…³ç³»:
MonoBehaviour â€•â€•â€•â€•â€•â€•â–· Behaviour â€•â€•â€•â€•â€•â€•â–· Component â€•â€•â€•â€•â€•â€•â–· Object

Q: MonoBehaviour vs. ScriptableObject
ç»§æ‰¿å…³ç³»:
ScriptableObject â€•â€•â€•â€•â€•â€•â–· Object

==== ç”Ÿå‘½å‘¨æœŸ
===== æ‰§è¡Œé¡ºåº
https://docs.unity3d.com/Documentation/Manual/execution-order.html

===== åˆå§‹åŒ–å’Œé”€æ¯
Awake()/OnDestory()ã€OnEnable()/OnDisable()ã€OnApplicationQuit()

Awake(): è„šæœ¬é¦–æ¬¡è¢«åˆå§‹åŒ–æ—¶è°ƒç”¨ï¼Œæ•´ä¸ªç”Ÿå‘½å‘¨æœŸåªä¼šæ‰§è¡Œä¸€æ¬¡
OnEnable(): è„šæœ¬è¢«å¯åŠ¨æ—¶è°ƒç”¨ï¼Œæ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¼šæ‰§è¡Œå¤šæ¬¡
OnApplicationQuit(): ç¨‹åºé€€å‡ºæ—¶è°ƒç”¨
OnDisable(): è„šæœ¬è¢«å…³é—­æ—¶è°ƒç”¨ï¼Œæ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¼šæ‰§è¡Œå¤šæ¬¡
OnDestory(): è„šæœ¬è¢«é”€æ¯æ—¶è°ƒç”¨ï¼Œæ•´ä¸ªç”Ÿå‘½å‘¨æœŸåªä¼šæ‰§è¡Œä¸€æ¬¡

===== äºŒæ¬¡åˆå§‹åŒ–
OnEnable()åä¼šè°ƒç”¨Reset(), ç„¶åè°ƒç”¨Start()æ–¹æ³•ã€‚

Reset()è¿è¡Œæ¨¡å¼ä¸‹ä¸ä¼šæ‰§è¡Œï¼Œé€šå¸¸ç”¨æ¥åšä¸€äº›ç¼–è¾‘å™¨ä¸‹çš„åˆå§‹åŒ–å·¥ä½œï¼Œå°½é‡ä½¿ç”¨UNITY_EDITORçš„å®å°†å…¶åŒ…è£¹èµ·æ¥ã€‚

ä¸ºä»€ä¹ˆä¼šæœ‰Start()å‘¢ï¼Ÿ
https://stackoverflow.com/questions/34652036/awake-and-start
https://docs.unity3d.com/ScriptReference/MonoBehaviour.Awake.html
https://docs.unity3d.com/ScriptReference/MonoBehaviour.Start.html

===== Awake()ã€OnEnable()ã€Start()åŒºåˆ«
Awake(): åˆå§‹åŒ–é˜¶æ®µ
ğŸ• åªæ‰§è¡Œä¸€æ¬¡ï¼šåœ¨è„šæœ¬å®ä¾‹çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­åªè°ƒç”¨ä¸€æ¬¡
ğŸ”„ ä¸å¯é é¡ºåºï¼šä¸åŒGameObjectçš„Awakeæ‰§è¡Œé¡ºåºä¸ç¡®å®š
âŒ ä¸å…³å¿ƒæ¿€æ´»çŠ¶æ€ï¼šå³ä½¿GameObjectæˆ–è„šæœ¬è¢«ç¦ç”¨ä¹Ÿä¼šæ‰§è¡Œ

OnEnable(): æ¿€æ´»å“åº”é˜¶æ®µ
ğŸ” å¤šæ¬¡æ‰§è¡Œï¼šæ¯æ¬¡è„šæœ¬ä»ç¦ç”¨å˜ä¸ºå¯ç”¨æ—¶éƒ½ä¼šè°ƒç”¨
âœ… ä¾èµ–æ¿€æ´»çŠ¶æ€ï¼šåªæœ‰è„šæœ¬å¯ç”¨æ—¶æ‰ä¼šæ‰§è¡Œ
ğŸ“¢ äº‹ä»¶æ³¨å†Œçš„ç†æƒ³ä½ç½®

Start(): å‡†å¤‡å¼€å§‹é˜¶æ®µ
ğŸ• åªæ‰§è¡Œä¸€æ¬¡ï¼šåœ¨è„šæœ¬å¯ç”¨åï¼Œç¬¬ä¸€æ¬¡Updateä¹‹å‰æ‰§è¡Œ
ğŸ”„ å¯é é¡ºåºï¼šåœ¨æ‰€æœ‰Awakeæ‰§è¡Œå®Œæˆåæ‰æ‰§è¡Œ
âœ… éœ€è¦è„šæœ¬å¯ç”¨ï¼šå¦‚æœè„šæœ¬åˆå§‹ç¦ç”¨ï¼Œåˆ™åœ¨å¯ç”¨åæ‰§è¡Œ

===== å›ºå®šæ›´æ–°FixedUpdate()
é»˜è®¤æ¯0.02ç§’è°ƒç”¨ä¸€æ¬¡ï¼Œå¯ä»¥åœ¨Editor->Project Settings->Timeé‡Œé…ç½®ã€‚

FixedUpdate()åº•å±‚ä¾èµ–Update(), ä¼šåœ¨å½“å‰å¸§çš„Update()å‰æ‰§è¡Œã€‚
å¦‚æœå¸§ç‡ç¨³å®šï¼Œè¡¨ç°è¾ƒå¥½ï¼›å¦‚æœå¸§ç‡ä¸ç¨³å®šï¼ŒFixedUpdate()åˆ™ä¼šè¡¨ç°ç³Ÿç³•ã€‚

é€šè¿‡è®¾ç½®æœ€å¤§é—´éš”æ—¶é—´å‚æ•°Maximum Allowed Timestepï¼Œä¾¿ä¸ä¼šå‡ºç°ä¸€å¸§å†…æ‰§è¡Œå¤ªå¤šæ¬¡çš„FixedUpdate()ã€‚

ä¸€èˆ¬ç‰©ç†ç›¸å…³çš„æ›´æ–°éƒ½æ”¾åœ¨FixedUpdate()ä¸­ã€‚

===== è„šæœ¬é€»è¾‘æ›´æ–°
Update()
LateUpdate()

Update is called once per frame and is the main function for frame updates.

LateUpdate is called once per frame, after Update has finished. Any calculations performed in Update will have completed when LateUpdate begins. A common use for LateUpdate would be a following third-person camera. If you make your character move and turn inside Update, you can perform all camera movement and rotation calculations in LateUpdate. This will ensure that the character has moved completely before the camera tracks its position.

https://docs.unity3d.com/Manual/execution-order.html#UpdateOrder

===== æ¸²æŸ“
é€»è¾‘æ›´æ–°ç»“æŸåå°±è¿›å…¥åœºæ™¯æ¸²æŸ“äº†ã€ä¹‹åæ˜¯Gizmoæ¸²æŸ“ã€ä»¥åŠGUIæ¸²æŸ“ã€‚
https://docs.unity3d.com/Documentation/Manual/execution-order.html#Rendering

=== Transform
https://docs.unity3d.com/Manual/ScriptingTransform.html
https://docs.unity3d.com/ScriptReference/RectTransform.html

=== Vectors
https://docs.unity3d.com/Manual/VectorCookbook.html

=== Quaternion
https://docs.unity3d.com/Manual/class-Quaternion.html

=== ScriptableObject
https://docs.unity3d.com/Manual/class-ScriptableObject.html

Q: ScriptableObject vs. MonoBehaviour

=== Time and frame rate management
https://docs.unity3d.com/Manual/TimeFrameManagement.html

=== Mathf
https://docs.unity3d.com/Manual/class-Mathf.html

=== Random
https://docs.unity3d.com/Manual/class-Random.html

=== Debug
https://docs.unity3d.com/Manual/class-Debug.html

=== Gizmos and Handles
https://docs.unity3d.com/Manual/GizmosAndHandles.html

=== å‚è€ƒ
https://docs.unity3d.com/ScriptReference/

== UI
=== æ¶æ„
https://blog.codingnow.com/2020/07/game_ui.html
https://blog.codingnow.com/2020/07/font_manager.html
https://gist.github.com/bkaradzic/853fd21a15542e0ec96f7268150f1b62

=== NGUI
NGUI vs. UGUI
https://zhuanlan.zhihu.com/p/445999150

=== UGUI
åŸç”Ÿ
å¦‚æœUGUIå’ŒNGUIé€‰ä¸€ä¸ªï¼Œé€‰UGUI

==== æ¸¸æˆç•Œé¢
- Textç»„ä»¶

- å¯Œæ–‡æœ¬
UGUIæ”¯æŒå¯Œæ–‡æœ¬ï¼Œä½†åªæ”¯æŒç®€å•çš„æ ‡ç­¾ï¼Œæ— æ³•æ”¯æŒå›¾æ–‡æ··æ’ã€‚

- æè¾¹å’Œé˜´å½±
- åŠ¨æ€å­—ä½“
- å­—ä½“èŠ±å±

- Text Mesh Pro
TextMesh Pro (TMP) æ˜¯ Unity å®˜æ–¹æ¨å‡ºçš„é«˜çº§æ–‡æœ¬æ¸²æŸ“ç³»ç»Ÿï¼Œç”¨äºæ›¿ä»£ä¼ ç»Ÿçš„ UnityEngine.UI.Textï¼Œæä¾›æ›´æ¸…æ™°ã€æ›´çµæ´»çš„æ–‡æœ¬æ˜¾ç¤ºæ–¹æ¡ˆã€‚å®ƒå¹¿æ³›åº”ç”¨äº UI æ–‡æœ¬ å’Œ 3D ä¸–ç•Œæ–‡æœ¬ï¼Œæ”¯æŒä¸°å¯Œçš„æ’ç‰ˆã€åŠ¨æ€å­—ä½“æ•ˆæœå’Œé«˜æ€§èƒ½æ¸²æŸ“ã€‚
https://docs.unity3d.com/Packages/com.unity.textmeshpro@4.0/manual/index.html

    TMP çš„æ ¸å¿ƒç»„ä»¶:
        TextMeshProUGUI
            ç”¨äº UI ç³»ç»Ÿï¼ˆCanvasï¼‰ï¼Œç»§æ‰¿è‡ª UnityEngine.UI.Graphicã€‚
            é€‚ç”¨äº HUDã€èœå•ã€å¯¹è¯æ¡†ç­‰ UI å…ƒç´ ã€‚
        TextMeshPro
            ç”¨äº 3D åœºæ™¯ï¼ˆå¦‚æ¼‚æµ®æ–‡å­—ã€3D æ¸¸æˆä¸­çš„æ ‡ç­¾ï¼‰ã€‚
            ç»§æ‰¿è‡ª MeshRendererï¼Œç›´æ¥æ¸²æŸ“åœ¨ 3D ç©ºé—´ã€‚

- SDFå­—ä½“
Signed Distance Fieldï¼Œæœ‰å‘è·ç¦»åœºã€‚ä¸Textçš„ä½å›¾åŸç†ä¸å¤ªä¸€æ ·ï¼Œä¿å­˜çš„æ˜¯æ–‡æœ¬æ¯ä¸ªç‚¹ç›¸å¯¹äºæ–‡å­—è¾¹ç¼˜çš„è·ç¦»ã€‚
https://docs.unity3d.com/Packages/com.unity.textmeshpro@4.0/manual/FontAssetsSDF.html

- å›¾æ–‡æ··æ’
- æ ·å¼
- æ–‡å­—fallback
- ç‚¹å‡»äº‹ä»¶
- Imageç»„ä»¶
- Raw Imageç»„ä»¶
- Buttonç»„ä»¶
- Toggleç»„ä»¶
- Scroll Viewç»„ä»¶
- Sliderç»„ä»¶
- Scrollbarç»„ä»¶
- Dropdownç»„ä»¶(ä¸‹æ‹‰é€‰å•)
- InputFieldç»„ä»¶

==== ç•Œé¢å¸ƒå±€
- Rect Transformç»„ä»¶
- æ‹‰ä¼¸
- è‡ªåŠ¨å¸ƒå±€
- æ–‡æœ¬è‡ªé€‚åº”
- Layout Elementç»„ä»¶
- Layout Groupç»„ä»¶
- Content Size Filterç»„ä»¶

==== Canvasç»„ä»¶
- æ¦‚å¿µ
Canvasç»„ä»¶æ˜¯UIçš„åŸºç¡€ç”»å¸ƒï¼Œæ‰€æœ‰UIå…ƒç´ å¿…é¡»æ”¾åœ¨Canvaså¯¹è±¡ä¸‹é¢ï¼Œå¹¶ä¸”æ”¯æŒåµŒå¥—ã€‚
Canvasæ”¯æŒ3ç§ç»˜åˆ¶æ–¹å¼: Overlay(æœ€ä¸Šå±‚)ã€Cameraä¸World Space(3Då¸ƒå±€)ã€‚
å…¶ä¸­ï¼Œç”¨å¾—æœ€å¤šçš„æ˜¯Cameraï¼Œå®ƒå¯ä»¥æŠŠæ­£äº¤æ‘„åƒæœºæŠ•å½±å‡ºæ¥çš„UIå…ƒç´ ç»˜åˆ¶åœ¨Canvasé¢æ¿ä¸Šã€‚
3Dç•Œé¢åˆ™ä½¿ç”¨é€è§†æ‘„åƒæœºè®©UIè¾¾åˆ°æ›´å¥½çš„äº¤äº’æ•ˆæœã€‚

- UIæ‘„åƒæœº
- 3Dç•Œé¢
- è‡ªé€‚åº”UI
- Canvasä¸3Dæ’åº

- è£å‰ª
UGUIæä¾›äº†ä¸¤ç§è£å‰ªæ–¹å¼:
ä¸€ç§æ˜¯Maskè£å‰ªï¼Œä¼˜ç‚¹æ˜¯å¯ä»¥è£å‰ªå‡ºä»»æ„å½¢çŠ¶çš„UIï¼Œç¼ºç‚¹æ˜¯éœ€è¦é¢å¤–å ç”¨ä¸€ä¸ªDraw Call
å¦ä¸€ç§æ˜¯çŸ©å½¢è£å‰ªï¼ŒRect Mask 2Då¹¶ä¸ä¼šé¢å¤–å ç”¨ä¸€ä¸ªDraw Callï¼Œåº”å°½å¯èƒ½ä½¿ç”¨è¿™ç§æ–¹å¼æ¥è£å‰ª

- è£å‰ªç²’å­

==== Atlaså›¾é›†
- åˆ›å»ºAtlas
- è¯»å–Atlas
- Variant
- ç›‘å¬åŠ è½½äº‹ä»¶

- å¤šå›¾é›†ç®¡ç†

==== äº‹ä»¶ç³»ç»Ÿ
- Graphic Raycasterç»„ä»¶
- UIäº‹ä»¶
- UIäº‹ä»¶ç®¡ç†
- UnityActionå’ŒUnityEvent
- C#äº‹ä»¶ç³»ç»Ÿ
- 3Däº‹ä»¶
- Kå¸§åŠ¨ç”»(å…³é”®å¸§åŠ¨ç”»)
- ä½¿ç”¨Scroll Rectç»„ä»¶åˆ¶ä½œæ¸¸æˆæ‘‡æ†
- ç‚¹å‡»åŒºåŸŸä¼˜åŒ–

==== API
- RaycastResult
https://docs.unity3d.com/Packages/com.unity.ugui@1.0/api/UnityEngine.EventSystems.RaycastResult.html
è·å–:
https://docs.unity3d.com/Packages/com.unity.ugui@1.0/api/UnityEngine.EventSystems.EventSystem.html#UnityEngine_EventSystems_EventSystem_RaycastAll_UnityEngine_EventSystems_PointerEventData_System_Collections_Generic_List_UnityEngine_EventSystems_RaycastResult__

=== UI Toolkit
è®¾è®¡ç›®æ ‡æ˜¯æ›¿ä»£UGUIï¼ŒUGUIçš„æœ€å¤§é—®é¢˜æ˜¯æ•ˆç‡ä½ã€‚
å½“å‰è¿˜æ²¡æœ‰UGUIæˆç†Ÿã€‚
è‡ªUnity 2021.2èµ·ï¼ŒUI Toolkitè¢«å®˜æ–¹å†…ç½®åœ¨Unityä¸­ï¼Œä¸UGUIçš„åœ°ä½ç›¸å½“ã€‚

vs. UGUI
https://docs.unity3d.com/Manual/UI-system-compare.html

- æ€§èƒ½
- ä½¿ç”¨
- (å½“å‰)ä¸è¶³
- æ¨èä½¿ç”¨åœºæ™¯

=== IMGUI
æ—©æœŸçš„UIç³»ç»Ÿï¼Œè¿è¡Œæ—¶æ•ˆç‡éå¸¸ä½ä¸‹
ç¼–è¾‘æ¨¡å¼ä¸‹çš„UIé€šå¸¸æ¯”è¾ƒç®€å•ï¼Œä¸”ä¸å¤ªåœ¨æ„æ•ˆç‡ï¼Œå› æ­¤ç›®å‰IMGUIè¢«å¹¿æ³›åº”ç”¨åœ¨ç¼–è¾‘å™¨UIä¸­
https://docs.unity3d.com/Manual/GUIScriptingGuide.html
https://docs.unity3d.com/ScriptReference/UnityEngine.IMGUIModule.html

=== FGUI
è·¨å¹³å°
https://www.fairygui.com/
https://github.com/fairygui

=== å‚è€ƒ
https://www.lfzxb.top/personal-ui-framework-consider/

== 2Dæ¸¸æˆå¼€å‘

=== Sprites
==== Sprite Rendererç»„ä»¶
- æ¸²æŸ“åŸç†
- æ¸²æŸ“æ’åº

- è£å‰ª
SpriteRenderä¸ Particl System éƒ½å¯ä»¥ä½¿ç”¨ Sprite Mask è¿›è¡Œè£å‰ªã€‚
è£å‰ªçš„åŸç†æ˜¯ä½¿ç”¨ Shader çš„æ¨¡æ¿æµ‹è¯•ã€‚

- 2Då¸§åŠ¨ç”»

- 2Déª¨éª¼åŠ¨ç”»
IKåå‘è¿åŠ¨: æ”¹åŠ¨å­èŠ‚ç‚¹å½±å“çˆ¶èŠ‚ç‚¹

- ç²¾çµèµ„æºåº“

==== åƒç´ é£
==== ç²¾çµå½¢çŠ¶
==== ç²¾çµç¼–è¾‘å™¨

=== Tileåœ°å›¾
https://docs.unity3d.com/Manual/tilemaps/tilemaps-landing.html

=== 2D game development in URP
https://docs.unity3d.com/Manual/2d-urp-landing.html

== 3Dæ¸¸æˆå¼€å‘
=== Renderer
- Mesh Renderer(ç½‘æ ¼æ¸²æŸ“å™¨)
- Skinned Mesh Renderer(è’™çš®ç½‘æ ¼æ¸²æŸ“å™¨)
- Particle System(ç²’å­ç³»ç»Ÿ)
- Trail Renderer(æ‹–å°¾æ¸²æŸ“å™¨)
- Line Renderer(çº¿æ¸²æŸ“å™¨)
- Terrain(åœ°å½¢)

=== æ¸¸æˆå¯¹è±¡å’Œèµ„æº
- é™æ€å¯¹è±¡
å‹¾é€‰static

- æ ‡è®°(tag)
ä¸ªæ¸¸æˆå¯¹è±¡åªèƒ½è®¾ç½®ä¸€ä¸ªç‹¬æœ‰çš„æ ‡è®°

- å±‚
å±‚é€šå¸¸éœ€è¦å’ŒLayerMaské…åˆä½¿ç”¨

- Prefab
https://docs.unity3d.com/Manual/Prefabs.html

- PrefabåµŒå¥—
https://docs.unity3d.com/Manual/NestedPrefabs.html

- Prefabå’Œæ¸¸æˆå¯¹è±¡

- å®ä¾‹åŒ–

- æ¸¸æˆèµ„æº
Unityä½¿ç”¨çš„èµ„æºå¯ä»¥åˆ†ä¸ºå¤–éƒ¨èµ„æºå’Œå†…éƒ¨èµ„æºã€‚
å†…éƒ¨èµ„æº: unityä¸­åˆ›å»ºçš„èµ„æºï¼Œå¦‚Prefabã€åœºæ™¯ã€æè´¨çƒã€åŠ¨ç”»å‰ªè¾‘ã€RenderTextureç­‰ï¼›
å¤–éƒ¨èµ„æº: é€šè¿‡ç¬¬ä¸‰æ–¹å·¥å…·äº§ç”Ÿçš„èµ„æºï¼Œå¦‚è´´å›¾ã€æ¨¡å‹ã€å£°éŸ³ã€è§†é¢‘ç­‰ã€‚
Unityå¹¶ä¸ä¼šç›´æ¥ä½¿ç”¨å¤–éƒ¨èµ„æºï¼Œè€Œæ˜¯å°†å®ƒä»¬ç”Ÿæˆä¸ºå¦ä¸€ä»½èµ„æºæ¥ä½¿ç”¨ï¼Œå¥½å¤„æ˜¯å¯ä»¥é€šè¿‡ä¸€äº›é…ç½®å¯¹åŸå§‹èµ„æºè¿›è¡ŒåŠ å·¥ã€‚
å¼•æ“çœŸæ­£ä½¿ç”¨çš„èµ„æºè¢«ä¿å­˜åœ¨Library/Artifacts/ä¸­ï¼Œæ–‡ä»¶åæ˜¯ç”Ÿæˆçš„èµ„æºçš„MD5åç§°ã€‚
å¸¸ç”¨çš„æ¸¸æˆèµ„æºç±»å‹:

    æ¨¡å‹æ–‡ä»¶:
        æ–‡ä»¶åç¼€.fbx
        å¼•æ“ä¸­çš„å¯¹åº”ç±»å‹æ˜¯Meshå’ŒAnimationClip
    è´´å›¾æ–‡ä»¶:
        æ–‡ä»¶åç¼€.bmpã€.tifã€.tgaã€.jpgã€.pngæˆ–.psd
        å¼•æ“ä¸­çš„å¯¹åº”ç±»å‹æ˜¯Textureã€Texture2Dã€Sprite
    éŸ³é¢‘æ–‡ä»¶:
        .mp3ã€.oggã€.wavç­‰
        å¼•æ“ä¸­çš„å¯¹åº”ç±»å‹æ˜¯AudioClip
    æ–‡æœ¬æ–‡ä»¶:
        .txtã€.jsonã€.yamlç­‰
        å¼•æ“ä¸­çš„å¯¹åº”ç±»å‹æ˜¯TextAsset

- åœºæ™¯
https://docs.unity3d.com/Manual/working-with-scenes.html

- åœºæ™¯æ¨¡æ¿
åœºæ™¯æ¨¡æ¿ç®¡çº¿: A Scene Template Pipeline script lets you execute custom code when you create a new scene from the template.
https://docs.unity3d.com/Manual/scene-templates.html

=== è¾“å…¥ç³»ç»Ÿ
- å°„çº¿
UIç‚¹å‡»äº‹ä»¶å’Œç‚¹é€‰æ¨¡å‹åœ¨åº•å±‚éƒ½æ˜¯é€šè¿‡å°„çº¿å®ç°çš„ã€‚
æ£€æµ‹ç‚¹å‡»äº‹ä»¶å°±æ˜¯æ£€æµ‹ç‚¹å‡»çš„è¿™æ¡å°„çº¿æ˜¯å¦ä¼šä¸ç‰©ä½“å‘ç”Ÿç¢°æ’ã€‚

=== Transformç»„ä»¶
- æ§åˆ¶è§’è‰²ç§»åŠ¨
- æ‘„åƒæœºè·Ÿéš
- æ’å€¼ç§»åŠ¨
- çº¦æŸæ¡ä»¶

=== 3Dä¸2Dç»“åˆ
https://zhuanlan.zhihu.com/p/363965652

== é™æ€å¯¹è±¡
ä½œç”¨: æå‡æ€§èƒ½
https://docs.unity3d.com/Manual/StaticObjects.html

=== å…‰ç…§è´´å›¾

=== åå°„æ¢é’ˆ

=== é®æŒ¡å‰”é™¤

=== é™æ€åˆæ‰¹
https://docs.unity3d.com/Manual/static-batching.html
https://docs.unity3d.com/Manual/dynamic-batching.html

=== å¯¼èˆªç½‘æ ¼

== graphics
=== render pipelines
==== æ¦‚å¿µ
https://docs.unity3d.com/Manual/render-pipelines.html
https://zhuanlan.zhihu.com/p/353687806

å‰å‘æ¸²æŸ“: é€‚ç”¨äºå…‰æºè¾ƒå°‘ã€é€æ˜ç‰©ä½“è¾ƒå¤šçš„åœºæ™¯ã€‚
å»¶è¿Ÿæ¸²æŸ“: é€‚ç”¨äºå…‰æºæ•°é‡è¾ƒå¤šçš„åœºæ™¯ï¼Œä½†ä¸é€‚åˆé€æ˜ç‰©ä½“ï¼Œä¸”éœ€è¦è¾ƒé«˜çš„ç¡¬ä»¶æ€§èƒ½ã€‚
å‰å‘æ¸²æŸ“+: ç»“åˆäº†å‰å‘æ¸²æŸ“å’Œå»¶è¿Ÿæ¸²æŸ“çš„ä¼˜ç‚¹ï¼Œé€‚åˆéœ€è¦å¤„ç†å¤šä¸ªå…‰æºä¸”ä»éœ€æ”¯æŒé€æ˜ç‰©ä½“çš„åœºæ™¯ã€‚

===== å‰å‘æ¸²æŸ“(Forward Rendering)
- æ¦‚å¿µ

    å‰å‘æ¸²æŸ“æ˜¯ä¼ ç»Ÿçš„æ¸²æŸ“æ–¹æ³•ã€‚
    åœ¨å‰å‘æ¸²æŸ“ä¸­ï¼Œæ¯ä¸ªåƒç´ çš„æ¸²æŸ“éƒ½æ¶‰åŠæ‰€æœ‰çš„å…‰æºã€‚
    æ¯ä¸ªç‰©ä½“çš„æ¯ä¸ªè¡¨é¢ä¼šæ ¹æ®åœºæ™¯ä¸­æ‰€æœ‰çš„å…‰æºè¿›è¡Œè®¡ç®—ï¼Œè¿™æ„å‘³ç€æ¸²æŸ“æ—¶ä¼šå¤„ç†æ¯ä¸ªç‰©ä½“ä¸å…‰æºçš„äº¤äº’ã€‚

- åŸç†
æ¯è¿›è¡Œä¸€æ¬¡å®Œæ•´çš„å‰å‘æ¸²æŸ“ï¼Œéœ€è¦æ¸²æŸ“è¯¥å¯¹è±¡çš„æ¸²æŸ“å›¾å…ƒï¼Œå¹¶è®¡ç®—ä¸¤ä¸ªç¼“å†²åŒºçš„ä¿¡æ¯: é¢œè‰²ç¼“å†²åŒºä¸æ·±åº¦ç¼“å†²åŒºã€‚åˆ©ç”¨æ·±åº¦ç¼“å†²æ¥å†³å®šä¸€ä¸ªç‰‡å…ƒæ˜¯å¦å¯è§ï¼Œå¦‚æœå¯è§å°±æ›´æ–°é¢œè‰²ç¼“å†²åŒºä¸­çš„é¢œè‰²å€¼ã€‚
å¯¹äºæ¯ä¸ªé€åƒç´ å…‰æºï¼Œéƒ½éœ€è¦è¿›è¡Œä¸€æ¬¡å®Œæ•´çš„æ¸²æŸ“æµç¨‹ã€‚
å¦‚æœä¸€ä¸ªç‰©ä½“åœ¨å¤šä¸ªé€åƒç´ å…‰æºçš„å½±å“åŒºåŸŸå†…ï¼Œé‚£ä¹ˆè¯¥ç‰©ä½“å°±éœ€è¦æ‰§è¡Œå¤šä¸ªPassï¼Œæ¯ä¸ªPassè®¡ç®—ä¸€ä¸ªé€åƒç´ å…‰æºçš„å…‰ç…§ç»“æœï¼Œç„¶ååœ¨å¸§ç¼“å†²ä¸­æŠŠè¿™äº›å…‰ç…§ç»“æœæ··åˆèµ·æ¥å¾—åˆ°æœ€ç»ˆçš„é¢œè‰²å€¼ã€‚å‡è®¾ï¼Œåœºæ™¯ä¸­æœ‰Nä¸ªç‰©ä½“ï¼Œæ¯ä¸ªç‰©ä½“å—Mä¸ªå…‰æºçš„å½±å“ï¼Œé‚£ä¹ˆè¦æ¸²æŸ“æ•´ä¸ªåœºæ™¯ä¸€å…±éœ€è¦N*Mä¸ªPassã€‚å› æ­¤ï¼Œæ¸²æŸ“å¼•æ“é€šå¸¸ä¼šé™åˆ¶æ¯ä¸ªç‰©ä½“çš„é€åƒç´ å…‰ç…§çš„æ•°ç›®ã€‚

- ä¼˜ç‚¹

    ç®€å•é«˜æ•ˆ: é€‚åˆè¾ƒå°‘çš„å…‰æºå’Œç›¸å¯¹ç®€å•çš„åœºæ™¯ã€‚
    é€æ˜åº¦æ”¯æŒ: å‰å‘æ¸²æŸ“åœ¨å¤„ç†é€æ˜ç‰©ä½“æ—¶éå¸¸é«˜æ•ˆï¼Œå› ä¸ºå®ƒé€ä¸ªåƒç´ è¿›è¡Œè®¡ç®—ã€‚
    æ”¯æŒå¤šç§åå¤„ç†æ•ˆæœ: å¯ä»¥ä¸è®¸å¤šåå¤„ç†æ•ˆæœ(å¦‚å…‰æ™•ã€æ™¯æ·±ç­‰)å¾ˆå¥½åœ°ç»“åˆã€‚
    ç¡¬ä»¶å…¼å®¹æ€§å¥½: å¯¹æ—§çš„ç¡¬ä»¶æˆ–ä½ç«¯è®¾å¤‡æœ‰æ›´å¥½çš„æ”¯æŒã€‚

- ç¼ºç‚¹

    æ€§èƒ½ç“¶é¢ˆ: å¦‚æœåœºæ™¯ä¸­æœ‰å¾ˆå¤šå…‰æºï¼Œæ€§èƒ½å¯èƒ½ä¼šä¸‹é™ï¼Œå› ä¸ºæ¯ä¸ªç‰©ä½“éƒ½éœ€è¦è®¡ç®—æ‰€æœ‰å…‰æºçš„å½±å“ã€‚
    éš¾ä»¥å¤„ç†å¤æ‚çš„å…‰æºäº¤äº’: å½“æœ‰å¾ˆå¤šåŠ¨æ€å…‰æºæ—¶ï¼Œå‰å‘æ¸²æŸ“çš„æ€§èƒ½ä¼šå—åˆ°æ˜¾è‘—å½±å“ã€‚

- åº”ç”¨åœºæ™¯

    é€‚åˆä½å…‰æºã€é€æ˜ç‰©ä½“è¾ƒå¤šçš„åœºæ™¯ï¼Œ
    å¦‚ä¸€äº›ç§»åŠ¨è®¾å¤‡ä¸Šçš„æ¸¸æˆã€VRé¡¹ç›®ï¼Œæˆ–è€…éœ€è¦ç²¾ç»†æ§åˆ¶æ¯ä¸ªç‰©ä½“å¤–è§‚çš„åœºæ™¯ã€‚

- è®¾ç½®

    TODO:
    Shader: è®¾ç½®Passçš„æ¸²æŸ“æ ‡ç­¾

- å‚è€ƒ
https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@14.0/manual/urp-universal-renderer.html#rendering-path-comparison
https://docs.unity3d.com/Manual/RenderTech-ForwardRendering.html
https://docs.unity3d.com/Manual/PerPixelLights-BuiltIn.html

===== å»¶è¿Ÿæ¸²æŸ“(Deferred Rendering)
- æ¦‚å¿µ

    å»¶è¿Ÿæ¸²æŸ“æ˜¯ä¸€ç§ä¸åŒäºå‰å‘æ¸²æŸ“çš„æ–¹æ³•ï¼Œå®ƒå°†æ¸²æŸ“è¿‡ç¨‹åˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼Œ
    ç‰¹åˆ«æ˜¯åœ¨è®¡ç®—å…‰ç…§æ—¶ï¼Œå…ˆå°†åœºæ™¯çš„å‡ ä½•ä¿¡æ¯(å¦‚ä½ç½®ã€æ³•çº¿ã€é¢œè‰²ç­‰)æ¸²æŸ“åˆ°å¤šä¸ªç¼“å†²åŒº(G-buffer)ä¸­ï¼Œ
    å†åœ¨åç»­çš„æ­¥éª¤ä¸­è®¡ç®—å…‰æºçš„å½±å“ã€‚
    è¿™ä½¿å¾—å»¶è¿Ÿæ¸²æŸ“èƒ½å¤Ÿåœ¨æ¸²æŸ“å¤§é‡å…‰æºæ—¶ï¼Œæ˜¾è‘—å‡å°‘æ€§èƒ½æŸå¤±ã€‚

- åŸç†
å»¶è¿Ÿæ¸²æŸ“æ˜¯ä¸€ç§æ›´å¤è€çš„æ¸²æŸ“æ–¹æ³•ï¼Œä½†ç”±äºå‰å‘æ¸²æŸ“å¯èƒ½é€ æˆçš„ç“¶é¢ˆé—®é¢˜ï¼Œè¿‘å‡ å¹´åˆæµè¡Œèµ·æ¥ã€‚
é™¤äº†å‰å‘æ¸²æŸ“ä¸­ä½¿ç”¨çš„é¢œè‰²ç¼“å†²å’Œæ·±åº¦ç¼“å†²å¤–ï¼Œå»¶è¿Ÿæ¸²æŸ“è¿˜ä¼šåˆ©ç”¨é¢å¤–çš„ç¼“å†²åŒºï¼Œè¿™äº›ç¼“å†²åŒºä¹Ÿè¢«ç»Ÿç§°ä¸º G ç¼“å†²(G-buffer)ï¼Œå…¶ä¸­ G æ˜¯è‹±æ–‡ Geometry çš„ç¼©å†™ã€‚
G ç¼“å†²åŒºå­˜å‚¨äº†æ‰€å…³å¿ƒçš„è¡¨é¢ï¼ˆé€šå¸¸æŒ‡çš„æ˜¯ç¦»æ‘„åƒæœºæœ€è¿‘çš„è¡¨é¢ï¼‰çš„å…¶å®ƒä¿¡æ¯ï¼Œä¾‹å¦‚è¯¥è¡¨é¢çš„æ³•çº¿ã€ä½ç½®ã€ç”¨äºå…‰ç…§è®¡ç®—çš„æè´¨å±æ€§ç­‰ã€‚
å»¶è¿Ÿæ¸²æŸ“ä¸»è¦åŒ…å«äº†ä¸¤ä¸ªPassã€‚åœ¨ç¬¬ä¸€ä¸ªPassä¸­ï¼Œä¸è¿›è¡Œä»»ä½•å…‰ç…§è®¡ç®—ï¼Œè€Œæ˜¯ä»…ä»…è®¡ç®—å“ªäº›ç‰‡å…ƒæ˜¯å¯è§çš„ï¼Œè¿™ä¸»è¦é€šè¿‡æ·±åº¦ç¼“å†²åŒºæ¥å®ç°ã€‚å½“å‘ç°ä¸€ä¸ªç‰‡å…ƒæ˜¯å¯è§çš„ï¼Œå°±æŠŠå®ƒçš„ç›¸å…³ä¿¡æ¯å­˜å‚¨åˆ°Gç¼“å†²åŒºä¸­ã€‚ç„¶åï¼Œåœ¨ç¬¬äºŒä¸ªPassä¸­ï¼Œåˆ©ç”¨Gç¼“å†²åŒºçš„å„ä¸ªç‰‡å…ƒä¿¡æ¯ï¼Œä¾‹å¦‚è¡¨é¢æ³•çº¿ã€è§†è§’æ–¹å‘ã€æ¼«åå°„ç³»æ•°ç­‰ï¼Œè¿›è¡ŒçœŸæ­£çš„å…‰ç…§è®¡ç®—ã€‚
å»¶è¿Ÿæ¸²æŸ“ä½¿ç”¨çš„ Pass æ•°ç›®é€šå¸¸å°±æ˜¯ä¸¤ä¸ªï¼Œè¿™è·Ÿåœºæ™¯ä¸­åŒ…å«çš„å…‰æºæ•°ç›®æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚æ¢å¥è¯è¯´ï¼Œå»¶è¿Ÿæ¸²æŸ“çš„æ•ˆç‡ä¸ä¾èµ–äºåœºæ™¯çš„å¤æ‚åº¦ï¼Œè€Œæ˜¯å’Œä½¿ç”¨çš„å±å¹•ç©ºé—´çš„å¤§å°æœ‰å…³ã€‚è¿™æ˜¯å› ä¸ºï¼Œéœ€è¦çš„ä¿¡æ¯éƒ½å­˜å‚¨åœ¨ç¼“å†²åŒºä¸­ï¼Œè€Œè¿™äº›ç¼“å†²åŒºå¯ä»¥ç†è§£æˆæ˜¯ä¸€å¼ å¼ 2Då›¾åƒï¼Œè®¡ç®—å®é™…ä¸Šå°±æ˜¯åœ¨è¿™äº›å›¾åƒç©ºé—´ä¸­è¿›çš„ã€‚
https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@14.0/manual/rendering/deferred-rendering-path.html#implementation-details

- ä¼˜ç‚¹

    å¤„ç†å¤§é‡å…‰æº:
        å»¶è¿Ÿæ¸²æŸ“éå¸¸é€‚åˆå…·æœ‰å¤§é‡å…‰æºçš„åœºæ™¯ï¼Œå› ä¸ºæ‰€æœ‰å…‰æºçš„è®¡ç®—æ˜¯åœ¨åæœŸé˜¶æ®µç»Ÿä¸€è¿›è¡Œçš„ï¼Œä¸ç‰©ä½“çš„æ•°é‡æ— å…³ã€‚
    çµæ´»çš„å…‰ç…§è®¡ç®—:
        å…‰æºä¸ç›´æ¥å½±å“ç‰©ä½“çš„æ¸²æŸ“ï¼Œå¯ä»¥æ›´çµæ´»åœ°å¤„ç†å¤šä¸ªåŠ¨æ€å…‰æºã€‚
    é€‚åˆç°ä»£ç¡¬ä»¶:
        åœ¨å¼ºå¤§ç¡¬ä»¶ä¸Šï¼Œå»¶è¿Ÿæ¸²æŸ“èƒ½å¤Ÿæä¾›æ›´é«˜çš„æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨åœºæ™¯ä¸­æœ‰å¤§é‡åŠ¨æ€å…‰æºæ—¶ã€‚

- ç¼ºç‚¹

    ä¸é€‚åˆé€æ˜ç‰©ä½“:
        å»¶è¿Ÿæ¸²æŸ“å¤„ç†é€æ˜ç‰©ä½“æ—¶éå¸¸å›°éš¾ï¼Œå› ä¸ºå®ƒä¾èµ–äº G-buffer ä¸­çš„å‡ ä½•æ•°æ®ï¼Œé€æ˜ç‰©ä½“çš„æ¸²æŸ“éœ€è¦ç‰¹æ®Šå¤„ç†ã€‚
    å†…å­˜æ¶ˆè€—å¤§:
        éœ€è¦å¤šä¸ªç¼“å†²åŒºæ¥å­˜å‚¨ç‰©ä½“çš„å‡ ä½•ä¿¡æ¯ï¼Œè¿™ä¼šå¢åŠ æ˜¾å­˜çš„æ¶ˆè€—ã€‚
    å¯¹ä½ç«¯ç¡¬ä»¶æ€§èƒ½è¦æ±‚è¾ƒé«˜:
        å»¶è¿Ÿæ¸²æŸ“å¯¹ç¡¬ä»¶çš„è¦æ±‚è¾ƒé«˜ï¼Œåœ¨ä½ç«¯è®¾å¤‡ä¸Šå¯èƒ½ä¸å¤ªé€‚ç”¨ã€‚

- åº”ç”¨åœºæ™¯

    é€‚åˆéœ€è¦å¤„ç†å¤§é‡åŠ¨æ€å…‰æºçš„åœºæ™¯ï¼Œå¦‚å¤§å‹å¼€æ”¾ä¸–ç•Œæ¸¸æˆã€å…·æœ‰å¤šä¸ªå…‰æºçš„åœºæ™¯ç­‰ã€‚

- è®¾ç½®

    TODO:

- å‚è€ƒ
https://docs.unity3d.com/Manual/RenderTech-DeferredShading.html

===== å‰å‘æ¸²æŸ“+(Forward+ Rendering)
æ¦‚å¿µ:

    å‰å‘æ¸²æŸ“+(ä¹Ÿå«åš Forward+)æ˜¯å‰å‘æ¸²æŸ“å’Œå»¶è¿Ÿæ¸²æŸ“çš„ç»“åˆï¼Œå®ƒåœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥è·å¾—ä¸¤è€…çš„ä¼˜ç‚¹ã€‚
    å‰å‘æ¸²æŸ“+ é€šè¿‡å°†åœºæ™¯åˆ†å‰²æˆå¤šä¸ªåŒºåŸŸ(ä¾‹å¦‚ï¼ŒåŸºäºæ‘„åƒæœºè§†é”¥ä½“çš„åŒºåŸŸ)ï¼Œå¹¶ä¸ºæ¯ä¸ªåŒºåŸŸè®¡ç®—å…‰æºçš„å½±å“ï¼Œ
    é¿å…äº†æ¯ä¸ªç‰©ä½“éƒ½éœ€è¦è®¡ç®—æ‰€æœ‰å…‰æºçš„æƒ…å†µã€‚è¿™ä½¿å¾—å®ƒåœ¨å¤„ç†å¤šä¸ªå…‰æºæ—¶æ—¢é«˜æ•ˆåˆèƒ½æä¾›è¾ƒå¥½çš„æ€§èƒ½ã€‚

ä¼˜ç‚¹:

    å‡å°‘è®¡ç®—é‡:
        å®ƒé€šè¿‡å¯¹å…‰æºè¿›è¡Œåˆ†ç»„ï¼Œåœ¨è®¡ç®—æ—¶åªè€ƒè™‘å…‰æºå¯¹è§†é‡ä¸­çš„ç‰©ä½“çš„å½±å“ï¼Œé¿å…äº†ä¼ ç»Ÿå‰å‘æ¸²æŸ“çš„æ€§èƒ½ç“¶é¢ˆã€‚
    é€‚åº”å¤šå…‰æºåœºæ™¯:
        ç›¸æ¯”ä¼ ç»Ÿçš„å‰å‘æ¸²æŸ“ï¼Œå‰å‘æ¸²æŸ“+ å¯ä»¥æ›´å¥½åœ°å¤„ç†å¤šå…‰æºåœºæ™¯ï¼ŒåŒæ—¶ä¿ç•™å‰å‘æ¸²æŸ“çš„ä¼˜åŠ¿ï¼Œå¦‚å¯¹é€æ˜ç‰©ä½“çš„æ”¯æŒã€‚

ç¼ºç‚¹:

    å†…å­˜å’Œå¤æ‚åº¦:
        ç›¸è¾ƒäºä¼ ç»Ÿçš„å‰å‘æ¸²æŸ“ï¼Œå‰å‘æ¸²æŸ“+ éœ€è¦æ›´å¤šçš„å†…å­˜å’Œè®¡ç®—å¤æ‚åº¦ï¼Œ
        å› æ­¤åœ¨ä¸€äº›åœºæ™¯ä¸­å¯èƒ½ä¸å¦‚ä¼ ç»Ÿå‰å‘æ¸²æŸ“é«˜æ•ˆã€‚

åº”ç”¨åœºæ™¯:

    é€‚åˆåœ¨éœ€è¦å¤„ç†å¤šä¸ªå…‰æºçš„åŒæ—¶ï¼Œä»ç„¶ä¿ç•™å‰å‘æ¸²æŸ“çš„çµæ´»æ€§å’Œé€æ˜ç‰©ä½“æ¸²æŸ“çš„åœºæ™¯ã€‚

è®¾ç½®:

    TODO:

å‚è€ƒ:
https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@14.0/manual/rendering/forward-plus-rendering-path.html

===== é€‰æ‹©å“ªç§æ¸²æŸ“è·¯å¾„
æ€»ä½“æ¥è¯´ï¼Œéœ€è¦æ ¹æ®æ¸¸æˆå‘å¸ƒçš„ç›®æ ‡å¹³å°æ¥é€‰æ‹©æ¸²æŸ“è·¯å¾„ã€‚å¦‚æœå½“å‰æ˜¾å¡ä¸æ”¯æŒæ‰€é€‰çš„æ¸²æŸ“è·¯å¾„ï¼Œé‚£ä¹ˆ Unity ä¼šè‡ªåŠ¨ä½¿ç”¨æ¯”å…¶ä½ä¸€çº§çš„æ¸²æŸ“è·¯å¾„ã€‚

==== SRP(Scriptable Render Pipeline)
SRP(å¯ç¼–ç¨‹ç®¡çº¿)
åŸºäºSRPï¼ŒUnityå¼€å‘äº†URP(é€šç”¨æ¸²æŸ“ç®¡çº¿)ä¸HDRP(é«˜æ¸…æ¸²æŸ“ç®¡çº¿)ã€‚
https://docs.unity3d.com/Manual/scriptable-render-pipeline-introduction.html

- SRP Core

- æ‘„åƒæœºç»„ä»¶å·¥å…·
Free Cameraç»„ä»¶
Camera Switcherç»„ä»¶

- Look Dev

- Render Graph Viewer

- å¯¹URPçš„å±•æœ›

==== URP(Universal Render Pipeline)
===== æ¦‚è§ˆ
Unityè‡ª2021ç‰ˆæœ¬ä¸å†ç»´æŠ¤å†…ç½®æ¸²æŸ“ç®¡çº¿ï¼Œè€Œæ˜¯ä½¿ç”¨URPå®Œå…¨ä»£æ›¿å®ƒã€‚
https://docs.unity3d.com/Manual/universal-render-pipeline.html
https://docs.unity3d.com/Manual/com.unity.render-pipelines.universal.html

===== è°ƒè¯•ä¸ä¿®æ”¹

===== vs. å†…ç½®æ¸²æŸ“ç®¡çº¿
å†…ç½®ç®¡çº¿:
https://docs.unity3d.com/Manual/built-in-render-pipeline.html

===== å‡çº§ç€è‰²å™¨

===== LightMode

===== Shader Graph
- ç®€ä»‹
https://www.zhihu.com/question/278425453

===== Renderer Pipeline Asset
- Rendering
- Qaulity
- Lighting
- Shadows
- Post-processing

- å‚è€ƒ
https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@14.0/manual/universalrp-asset.html

===== Renderer Pipeline Asset Data
Opaque Layer Mask ä¸é€æ˜çš„é®ç½©å±‚
Transparent Layer Mask åŠé€æ˜çš„é®ç½©å±‚
Rendering Path: å‰å‘æ¸²æŸ“ã€å‰å‘æ¸²æŸ“+ã€å»¶è¿Ÿæ¸²æŸ“
Depth Priming Mode: æ·±åº¦é¢„å¤„ç†æ¨¡å¼
Depth Texture Mode: æ·±åº¦å›¾å¤åˆ¶æ—¶æœº
Native Render Pass: æ˜¯å¦å¯åŠ¨åŸç”Ÿæ¸²æŸ“ï¼Œå¯åŠ¨åå¯ä»¥åœ¨shaderé‡Œè¿›è¡Œæ··åˆç¼–ç¨‹ï¼Œä½†OpenGL ES2ä¸æ”¯æŒã€‚
Transparent Receive Shadows: æ˜¯å¦åœ¨é€æ˜ç‰©ä½“ä¸Šç»˜åˆ¶é˜´å½±ã€‚
Post Processing: æ˜¯å¦å¯ç”¨åå¤„ç†ï¼Œåå¤„ç†é…ç½®æ–‡ä»¶ä¹Ÿå¯ä»¥å•ç‹¬åˆ›å»ºã€‚
Stencil: æ˜¯å¦è¦†ç›–æ¨¡æ¿ç¼“å†²å€¼
Intermediate Texture: æ˜¯å¦é€šè¿‡ä¸­é—´çº¹ç†è¿›è¡Œæ¸²æŸ“ã€‚

===== URP Global Settings
https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@14.0/manual/urp-global-settings.html

===== Universal Renderer
https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@14.0/manual/urp-universal-renderer.html

===== URP Renderer Feature
https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@14.0/manual/urp-renderer-feature.html

==== HDRP(High Definition Render Pipeline)
https://docs.unity3d.com/Manual/high-definition-render-pipeline.html

==== SRP Batch
- ä¸é€æ˜ç‰©ä½“ç»˜åˆ¶

- åŠé€æ˜ç‰©ä½“ç»˜åˆ¶

- Early-Z

- Alpha Test

- Alpha Blend

- Set Pass Callä¸Draw Call

- SRP BatchåŸç†
å¯ä»¥å‡å°‘Set Pass Callçš„æ•°é‡ï¼Œä½†æ— æ³•å‡å°‘Draw Callçš„æ•°é‡

==== æ¸²æŸ“æŠ€æœ¯
===== Blinn-Phongå…‰ç…§è®¡ç®—
===== PBRå…‰ç…§è®¡ç®—
===== é˜´å½±
===== æ¸²æŸ“æ•°æ®ä¼ é€’
===== SRPæµç¨‹
===== GPUæ¸²æŸ“ç®¡çº¿
===== å‰å‘æ¸²æŸ“æµç¨‹
===== å¤šæ‘„åƒæœºä¸Final Blit
===== ScriptableRenderPass

==== è‡ªå®šä¹‰æ¸²æŸ“ç®¡çº¿
===== å‚ä¸æ¸²æŸ“çš„å¯¹è±¡
===== MVPçŸ©é˜µè®¡ç®—
===== Render Objects
===== Rendering Layer Mask
===== è‡ªå®šä¹‰ Render Feature
===== è£å‰ªä¸å±‚
===== UIéƒ¨åˆ†æ¨¡ç³Š
===== é™ä½åˆ†è¾¨ç‡ä¸åŒ…å«UI

==== Render Graph
Render Graphæ˜¯ä¸€ç§ç”¨äºç®¡ç†å’Œä¼˜åŒ–æ¸²æŸ“æµç¨‹çš„æŠ€æœ¯ï¼Œå¹¿æ³›åº”ç”¨äºå®æ—¶æ¸²æŸ“å’Œæ¸¸æˆå¼•æ“ä¸­ã€‚å®ƒé€šè¿‡å›¾å½¢åŒ–çš„æ–¹å¼æè¿°æ¸²æŸ“ä»»åŠ¡çš„ä¾èµ–å…³ç³»ï¼Œå¸®åŠ©å¼€å‘è€…æ›´é«˜æ•ˆåœ°ç»„ç»‡æ¸²æŸ“ç®¡çº¿ã€‚

1. æ ¸å¿ƒå…ƒç´ 
èŠ‚ç‚¹(Node): æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªæ¸²æŸ“ä»»åŠ¡ï¼Œå¦‚ç»˜åˆ¶åœºæ™¯ã€åº”ç”¨åå¤„ç†æ•ˆæœç­‰ã€‚
è¾¹(Edge): è¾¹è¡¨ç¤ºä»»åŠ¡é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®ä¿ä»»åŠ¡æŒ‰æ­£ç¡®é¡ºåºæ‰§è¡Œã€‚
èµ„æº(Resource): æ¸²æŸ“è¿‡ç¨‹ä¸­ä½¿ç”¨çš„çº¹ç†ã€ç¼“å†²åŒºç­‰èµ„æºã€‚

2. ä¸»è¦ä¼˜åŠ¿
ä¾èµ–ç®¡ç†: è‡ªåŠ¨å¤„ç†ä»»åŠ¡é—´çš„ä¾èµ–ï¼Œé¿å…æ‰‹åŠ¨ç®¡ç†ã€‚
èµ„æºä¼˜åŒ–: è‡ªåŠ¨å¤ç”¨å’Œé‡Šæ”¾èµ„æºï¼Œå‡å°‘å†…å­˜å ç”¨ã€‚
æ¨¡å—åŒ–è®¾è®¡: ä¾¿äºæ‰©å±•å’Œç»´æŠ¤ï¼Œé€‚åˆå¤æ‚æ¸²æŸ“ç®¡çº¿ã€‚

3. å·¥ä½œæµç¨‹
å®šä¹‰èŠ‚ç‚¹å’Œä¾èµ–: æ˜ç¡®æ¯ä¸ªæ¸²æŸ“ä»»åŠ¡åŠå…¶ä¾èµ–å…³ç³»ã€‚
æ„å»ºå›¾ç»“æ„: å°†èŠ‚ç‚¹å’Œä¾èµ–å…³ç³»è½¬åŒ–ä¸ºå›¾ã€‚
æ‰§è¡Œæ¸²æŸ“: æŒ‰å›¾é¡ºåºæ‰§è¡Œä»»åŠ¡ï¼Œç¡®ä¿ä¾èµ–å…³ç³»å¾—åˆ°æ»¡è¶³ã€‚

4. åº”ç”¨åœºæ™¯
æ¸¸æˆå¼•æ“: å¦‚Unityã€Unreal Engineç­‰ï¼Œç”¨äºç®¡ç†å¤æ‚æ¸²æŸ“ç®¡çº¿ã€‚
å®æ—¶æ¸²æŸ“: VRã€ARç­‰éœ€è¦é«˜æ•ˆæ¸²æŸ“çš„åœºæ™¯ã€‚
åå¤„ç†æ•ˆæœ: å¦‚Bloomã€SSAOç­‰ï¼Œä¾èµ–å…³ç³»å¤æ‚çš„æ•ˆæœã€‚

5. å·¥å…·ä¸åº“
FrameGraph: ç”¨äºVulkançš„Render Graphåº“ã€‚
RDG(Render Dependency Graph): Unreal Engineä¸­çš„å®ç°ã€‚
Unity SRP(Scriptable Render Pipeline): æ”¯æŒRender Graphçš„æ¨¡å—åŒ–æ¸²æŸ“ç®¡çº¿ã€‚

å‚è€ƒ:
https://zhuanlan.zhihu.com/p/24181086877

=== ç›¸æœº
==== æ¦‚è§ˆ
https://docs.unity3d.com/Manual/CamerasOverview.html

==== cinemachine
https://docs.unity3d.com/Packages/com.unity.cinemachine@3.1/manual/index.html

=== color
https://docs.unity3d.com/Manual/graphics-color.html

- color space
https://docs.unity3d.com/Manual/LinearLighting.html
gamma color space is the historically standard format, linear color space rendering gives more precise results.
Is there a reason to ever use gamma color space?
Only when you're targeting old hardware or old graphics APIs. OpenGL ES 2.0 and WebGL 1.0 don't support linear space, besides that gamma can be faster than linear on old mobile devices.
å¯¹äºéœ€è¦æ›´çœŸå®å…‰ç…§æ•ˆæœçš„é¡¹ç›®ï¼Œå»ºè®®ä½¿ç”¨Linearé¢œè‰²ç©ºé—´ï¼›è€Œå¯¹äºæ›´æ³¨é‡æ€§èƒ½å’Œå…¼å®¹æ€§çš„é¡¹ç›®ï¼ŒGammaé¢œè‰²ç©ºé—´å¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚

- high dynamic range
https://docs.unity3d.com/Manual/HDR.html

=== å…‰ç…§
==== æ¦‚è§ˆ
https://docs.unity3d.com/Manual/LightingOverview.html
https://docs.unity3d.com/Manual/LightingInUnity.html

==== Lighting configuration workflow
https://docs.unity3d.com/Manual/lighting-configuration-workflow.html

==== Light sources
https://docs.unity3d.com/Manual/lighting-light-sources.html

==== Direct and indirect lighting
https://docs.unity3d.com/Manual/direct-and-indirect-lighting.html

==== Shadows
https://docs.unity3d.com/Manual/Shadows.html

==== Reflections
https://docs.unity3d.com/Manual/reflections-landing.html

==== Lighting in URP
https://docs.unity3d.com/Manual/urp/lighting-landing.html

==== Lighting in the Built-In Render Pipeline
https://docs.unity3d.com/Manual/lighting-birp.html

==== Lighting reference
https://docs.unity3d.com/Manual/lighting-reference.html

=== çº¹ç†
https://docs.unity3d.com/Manual/Textures-landing.html

=== æè´¨
https://docs.unity3d.com/Manual/Materials.html

=== shader
==== åˆ†ç±»
1 Shaders that are part of the graphics pipeline are the most common type of shader. They perform calculations that determine the color of pixels on the screen. In Unity, you usually work with this type of shader by using Shader objects.
2 Compute shaders perform calculations on the GPU, outside of the regular graphics pipeline.
3 Ray tracing shaders perform calculations related to ray tracing.

==== vs. ä¼ ç»ŸShader
Unity Shader != çœŸæ­£çš„Shader
åœ¨ä¼ ç»ŸShaderé‡Œï¼Œåªå¯ä»¥ç¼–å†™ç‰¹å®šç±»å‹Shaderï¼Œè€Œåœ¨Unity Shaderé‡Œï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡ŒåŒæ—¶åŒ…å«éœ€è¦çš„é¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡å…ƒç€è‰²å™¨ä»£ç ã€‚
åœ¨ä¼ ç»ŸShaderé‡Œï¼Œæ— æ³•è®¾ç½®ä¸€äº›æ¸²æŸ“è®¾ç½®ï¼Œä¾‹å¦‚æ˜¯å¦å¼€å¯æ··åˆï¼Œæ·±åº¦æµ‹è¯•ç­‰ã€‚åœ¨Unity Shaderä¸­ï¼Œé€šè¿‡ä¸€è¡Œç‰¹å®šæŒ‡ä»¤å°±å¯ä»¥å®Œæˆè¿™äº›è®¾ç½®ã€‚
åœ¨ä¼ ç»ŸShaderé‡Œï¼Œéœ€è¦ç¼–å†™å†—é•¿çš„ä»£ç æ¥è®¾ç½®ç€è‰²å™¨çš„è¾“å…¥å’Œè¾“å‡ºï¼Œåœ¨Unity Shaderä¸­ï¼Œåªéœ€è¦åœ¨ç‰¹å®šè¯­å¥å—ä¸­å£°æ˜ä¸€äº›å±æ€§ï¼Œå°±å¯ä»¥ä¾é æè´¨æ¥æ–¹ä¾¿åœ°æ”¹å˜è¿™äº›å±æ€§ã€‚

==== Unity Shaderçš„å½¢å¼
- è¡¨é¢ç€è‰²å™¨(Surface Shader)
Unityè‡ªå·±åˆ›é€ çš„ä¸€ç§ç€è‰²å™¨ä»£ç ç±»å‹ã€‚å®ƒéœ€è¦çš„ä»£ç é‡å¾ˆå°‘ï¼ŒUnityåœ¨èƒŒååšäº†å¾ˆå¤šå·¥ä½œï¼Œä½†æ¸²æŸ“çš„ä»£ä»·è¾ƒå¤§ã€‚
è¡¨é¢ç€è‰²å™¨åœ¨æœ¬è´¨ä¸Šå°±æ˜¯é¡¶ç‚¹ã€ç‰‡å…ƒç€è‰²å™¨ï¼Œå®ƒä»¬çœ‹èµ·æ¥å¾ˆä¸åƒæ˜¯å› ä¸ºè¡¨é¢ç€è‰²å™¨æ˜¯Unityåœ¨é¡¶ç‚¹/ç‰‡å…ƒç€è‰²å™¨ä¸Šå±‚ä¸ºå¼€å‘è€…æä¾› çš„ä¸€å±‚æŠ½è±¡å°è£…ï¼Œä½†åœ¨èƒŒåï¼ŒUnityè¿˜æ˜¯ä¼šæŠŠå®ƒè½¬åŒ–æˆåŒ…å«ä¸€ä¸ªå¤šPassçš„é¡¶ç‚¹/ç‰‡å…ƒç€è‰²å™¨ã€‚å¯ä»¥åœ¨UnityShaderçš„å¯¼å…¥è®¾ç½®é¢æ¿ä¸­å•å‡»show generated cocdeæŒ‰é’®æ¥æŸ¥çœ‹ç”Ÿæˆçš„çœŸæ­£çš„é¡¶ç‚¹ï¼ç‰‡å…ƒç€è‰²å™¨ä»£ç ã€‚å¯ä»¥è¯´ï¼Œä»æœ¬è´¨ä¸Šæ¥è®²ï¼ŒUnity Shaderåªæœ‰æœ‰ä¸¤ç§å½¢å¼: é¡¶ç‚¹/ç‰‡å…ƒç€è‰²å™¨å’Œå›ºå®šå‡½æ•°ç€è‰²å™¨(åœ¨Unity 5.2ä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œå›ºå®šå‡½æ•°ç€è‰²å™¨ ä¹Ÿä¼šåœ¨èƒŒåè¢«è½¬åŒ–æˆé¡¶ç‚¹/ç‰‡å…ƒç€è‰²å™¨ï¼Œå› æ­¤ä»æœ¬è´¨ä¸Šæ¥è¯´Unityä¸­åªå­˜åœ¨é¡¶ç‚¹/ç‰‡å…ƒç€è‰²å™¨)ã€‚

- é¡¶ç‚¹/ç‰‡å…ƒç€è‰²å™¨(Vertex/Fragment Shader)

- å›ºå®šå‡½æ•°ç€è‰²å™¨(å·²åºŸå¼ƒ)
ç”±äºç°åœ¨ç»å¤§å¤šæ•°GPUéƒ½æ”¯å¾…å¯ç¼–ç¨‹çš„æ¸²æŸ“ç®¡çº¿ï¼Œè¿™ç§å›ºå®šç®¡çº¿çš„ç¼–ç¨‹æ–¹å¼å·²ç»é€æ¸è¢«æŠ›å¼ƒã€‚å®é™…ä¸Šï¼Œåœ¨Unity 5.2ä¸­ï¼Œæ‰€æœ‰å›ºå®šå‡½æ•°ç€è‰²å™¨éƒ½ä¼šåœ¨èƒŒåè¢«Unityç¼–è¯‘æˆå¯¹åº”çš„é¡¶ç‚¹/ç‰‡å…ƒç€è‰²å™¨ï¼Œå› æ­¤çœŸæ­£æ„ä¹‰ä¸Šçš„å›ºå®šå‡½æ•°ç€è‰²å™¨å·²ç»ä¸å­˜åœ¨äº†ã€‚

==== ä¸ CG/HLSL ä¹‹é—´çš„å…³ç³»
UnityShaderæ˜¯ç”¨ShaderLabè¯­è¨€ç¼–å†™çš„ï¼Œä½†å¯¹äºè¡¨é¢ç€è‰²å™¨å’Œé¡¶ç‚¹/ç‰‡å…ƒç€è‰²å™¨ï¼Œå¯ä»¥åœ¨ShaderLabå†…éƒ¨åµŒå¥—CG/HLSLè¯­è¨€æ¥ç¼–å†™è¿™äº›ç€è‰²å™¨ä»£ç ã€‚è¿™äº›CG/HLSLä»£ç æ˜¯åµŒå¥—åœ¨CGPROG RAMå’ŒENDCGä¹‹é—´çš„ã€‚ç”±äºCGå’ŒDX9é£æ ¼çš„HLSLä»å†™æ³•ä¸Šæ¥è¯´å„¿ä¹æ˜¯åŒä¸€ç§è¯­è¨€ï¼Œå› æ­¤åœ¨Unityé‡ŒCGå’ŒHLSLæ˜¯ç­‰ä»·çš„ã€‚

==== æ•°å­¦åŸºç¡€
äºŒç»´ç¬›å¡å°”åæ ‡ç³»:

    åœ¨å±å¹•æ˜ å°„æ—¶ï¼ŒOpenGL yè½´æœä¸Šï¼ŒDirectX yè½´æœä¸‹ã€‚

ä¸‰ç»´ç¬›å¡å°”åæ ‡ç³»:

    unityä½¿ç”¨å·¦æ‰‹åæ ‡ç³»ã€‚

åæ ‡ç©ºé—´:

    æ¨¡å‹ç©ºé—´ï¼Œä¸–ç•Œç©ºé—´ï¼Œè§‚å¯Ÿç©ºé—´ï¼Œè£å‰ªç©ºé—´ï¼Œå±å¹•ç©ºé—´ã€‚
    å…¶ä¸­ï¼Œä»…è§‚å¯Ÿç©ºé—´ä¸­unityä½¿ç”¨å³æ‰‹åæ ‡ç³»ï¼Œå…¶å®ƒå‡ä½¿ç”¨å·¦æ‰‹åæ ‡ç³»ã€‚
    é™¤äº†è¿™äº›æœ€é‡è¦çš„åæ ‡ç©ºé—´ï¼Œå®é™…å¼€å‘ä¸­ä¹Ÿä¼šé‡åˆ°å…¶å®ƒç©ºé—´:
        ä¾‹å¦‚åˆ‡çº¿ç©ºé—´(tangent space, é€šå¸¸ç”¨äºæ³•çº¿æ˜ å°„):
            https://www.zhihu.com/question/23706933

å†…ç½®å˜é‡:

    å˜æ¢çŸ©é˜µã€æ‘„åƒæœºå’Œå±å¹•å‚æ•°

==== å…‰ç…§
===== æ¦‚å¿µ
- å…‰æº
Directional Light(æ–¹å‘å…‰)
Spot Light(èšå…‰ç¯)
Point Light(ç‚¹å…‰æº)
Area Light(é¢å…‰æº)

- å¸æ”¶å’Œæ•£å°„
é«˜å…‰åå°„(specular)è¡¨ç¤ºç‰©ä½“è¡¨é¢æ˜¯å¦‚ä½•åå°„å…‰çº¿çš„
æ¼«åå°„(diffuse)è¡¨ç¤ºæœ‰å¤šå°‘å…‰çº¿ä¼šè¢«æŠ˜å°„ã€å¸æ”¶å’Œæ•£å°„å‡ºè¡¨é¢

- ç€è‰²
ç€è‰²(shading)æŒ‡çš„æ˜¯ï¼Œæ ¹æ®æè´¨å±æ€§(å¦‚æ¼«åå°„å±ˆæ€§ç­‰)ã€å…‰æºä¿¡æ¯(å¦‚å…‰æºæ–¹å‘ã€è¾ç…§åº¦ç­‰)ï¼Œä½¿ç”¨ä¸€ä¸ªç­‰å¼å»è®¡ç®—æ²¿æŸä¸ªè§‚å¯Ÿæ–¹å‘çš„å‡ºå°„åº¦çš„è¿‡ç¨‹ã€‚è¿™ä¸ªç­‰å¼ç§°ä¸ºå…‰ç…§æ¨¡å‹Lighting Model)ã€‚
ä¸åŒçš„å…‰ç…§æ¨¡å‹æœ‰ä¸åŒçš„ç›®çš„ã€‚ä¾‹å¦‚ï¼Œä¸€äº›ç”¨äºæè¿°ç²—ç³™çš„ç‰©ä½“è¡¨é¢ï¼Œä¸€äº›ç”¨äºæè¿°é‡‘å±è¡¨é¢ç­‰ã€‚

- BRDFå…‰ç…§æ¨¡å‹
BRDF(åŒå‘åå°„åˆ†å¸ƒå‡½æ•°ï¼ŒBidirectional Reflectance Distribution Function)æ˜¯æè¿°å…‰çº¿å¦‚ä½•ä»è¡¨é¢åå°„çš„æ•°å­¦æ¨¡å‹ï¼Œå¹¿æ³›åº”ç”¨äºè®¡ç®—æœºå›¾å½¢å­¦ä¸­çš„å…‰ç…§è®¡ç®—ã€‚å®ƒå®šä¹‰äº†å…¥å°„å…‰ä¸å‡ºå°„å…‰ä¹‹é—´çš„å…³ç³»ï¼Œå¸®åŠ©æ¨¡æ‹ŸçœŸå®ä¸–ç•Œä¸­çš„å…‰ç…§æ•ˆæœã€‚

===== æ ‡å‡†å…‰ç…§æ¨¡å‹
====== æ¦‚å¿µ
è™½ç„¶å…‰ç…§æ¨¡å‹æœ‰å¾ˆå¤šç§ç±»ï¼Œä½†åœ¨æ—©æœŸçš„æ¸¸æˆå¼•æ“ä¸­å¾€å¾€åªä½¿ç”¨ä¸€ä¸ªå…‰ç…§æ¨¡å‹ï¼Œè¿™ä¸ªæ¨¡å‹è¢«ç§°ä¸ºæ ‡å‡†å…‰ç…§æ¨¡å‹ã€‚å®é™…ä¸Šï¼Œåœ¨BRDFç†è®ºè¢«æå‡ºä¹‹å‰ï¼Œæ ‡å‡†å…‰ç…§æ¨¡å‹å°±å·²ç»è¢«å¹¿æ³›ä½¿ç”¨äº†ã€‚

åœ¨1975å¹´ï¼Œè‘—åå­¦è€…è£´ç¥¥é£(Bui Tuong Phong)æå‡ºäº†æ ‡å‡†å…‰ç…§æ¨¡å‹èƒŒåçš„åŸºæœ¬ç†å¿µã€‚æ ‡å‡†å…‰ç…§æ¨¡å‹åªå…³å¿ƒç›´æ¥å…‰ç…§(direct light)ï¼Œä¹Ÿå°±æ˜¯é‚£äº›ç›´æ¥ä»å…‰æºå‘å°„å‡ºæ¥ç…§å°„åˆ°ç‰©ä½“è¡¨é¢åï¼Œç»è¿‡ç‰©ä½“è¡¨é¢çš„ä¸€æ¬¡åå°„ç›´æ¥è¿›å…¥æ‘„åƒæœºçš„å…‰çº¿ã€‚

è™½ç„¶æ ‡å‡†å…‰ç…§æ¨¡å‹ä»…ä»…æ˜¯ä¸€ä¸ªç»éªŒæ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå¹¶ä¸å®Œå…¨ç¬¦åˆçœŸå®ä¸–ç•Œä¸­çš„å…‰ç…§ç°è±¡ã€‚ä½†ç”±äºå®ƒçš„æ˜“ç”¨æ€§ã€è®¡ç®—é€Ÿåº¦å’Œå¾—åˆ°çš„æ•ˆæœéƒ½æ¯”è¾ƒå¥½ï¼Œå› æ­¤ä»ç„¶è¢«å¹¿æ³›ä½¿ç”¨ã€‚

- vs. PBR
PBR åŸºäºç‰©ç†åŸç†ï¼Œèƒ½å¤Ÿæä¾›æ›´åŠ çœŸå®å’Œä¸€è‡´çš„å…‰ç…§å’Œæè´¨è¡¨ç°ï¼Œé€‚ç”¨äºç°ä»£å›¾å½¢å­¦ä¸­çš„é«˜è´¨é‡æ¸²æŸ“ã€‚PBR è€ƒè™‘äº†å¤šä¸ªç‰©ç†å› ç´ ï¼Œå¦‚èƒ½é‡å®ˆæ’ã€é‡‘å±åº¦ã€ç²—ç³™åº¦ã€åå°„ç‡ç­‰ï¼Œç¡®ä¿äº†ç‰©ä½“ä¸ç¯å¢ƒçš„äº¤äº’ç¬¦åˆçœŸå®ä¸–ç•Œçš„ç‰©ç†å®šå¾‹ã€‚
æ ‡å‡†å…‰ç…§æ¨¡å‹: é€šå¸¸æ›´ç®€å•ã€è®¡ç®—é‡è¾ƒå°ï¼Œé€‚åˆæ—©æœŸå›¾å½¢å­¦åº”ç”¨ï¼Œä½†åœ¨æè´¨å’Œå…‰ç…§çš„æ¨¡æ‹Ÿæ–¹é¢æ²¡æœ‰ PBR çœŸå®å’Œä¸€è‡´ã€‚

====== ç¯å¢ƒå…‰(ambient)
- ä½œç”¨
æ¨¡æ‹Ÿåœºæ™¯ä¸­é—´æ¥å…‰ç…§çš„å…¨å±€åŸºç¡€äº®åº¦ï¼Œé¿å…å®Œå…¨é»‘æš—çš„åŒºåŸŸã€‚

- å…³é”®ç‚¹
ä¸å…‰æºå’Œè§†è§’æ— å…³ï¼Œæ˜¯æ’å®šå€¼ã€‚
å¸¸ç”¨äºè¡¥è¶³æœªè¢«ç›´æ¥å…‰æºç…§äº®çš„åŒºåŸŸã€‚

====== è‡ªå‘å…‰(emissive)
- ä½œç”¨
ä½¿æè´¨è‡ªèº«å‘å…‰ï¼ˆå¦‚éœ“è™¹ç¯ã€å±å¹•ï¼‰ï¼Œä¸å—å¤–éƒ¨å…‰æºå½±å“ã€‚

- å…³é”®ç‚¹
ä¸å‚ä¸å…‰ç…§è®¡ç®—ï¼Œç›´æ¥å åŠ åˆ°æœ€ç»ˆé¢œè‰²ã€‚
åœ¨å»¶è¿Ÿæ¸²æŸ“ä¸­å¯èƒ½éœ€è¦ç‰¹æ®Šå¤„ç†ï¼ˆå¦‚ä½œä¸ºå…‰æºï¼‰

====== æ¼«åå°„(diffuse)
- ç‰©ç†åŸç†
å…‰çº¿å‡åŒ€æ•£å°„åˆ°æ‰€æœ‰æ–¹å‘ï¼Œè¡¨ç°æè´¨çš„"åŸºç¡€é¢œè‰²"ã€‚

- è§†è§‰è¡¨ç°
æŸ”å’Œå‡åŒ€

- è®¡ç®—å¤æ‚åº¦
ä½ï¼ˆä»…ç‚¹ç§¯ï¼‰

- å…¸å‹ç”¨é€”
å¸ƒæ–™ã€ç²—ç³™è¡¨é¢

- è®¡ç®—å…¬å¼(Lambert æ¨¡å‹)
ifdef::env-github[]
```math
I_{\text{diffuse}} = k_d \cdot I_{\text{light}} \cdot (\mathbf{L} \cdot \mathbf{N})
```
*å‚æ•°è¯´æ˜*ï¼š
- $k_d$ï¼šæè´¨çš„æ¼«åå°„ç³»æ•°ï¼ˆé¢œè‰²/è´´å›¾ï¼‰ã€‚
- $I_{\text{light}}$ï¼šå…‰æºå¼ºåº¦ã€‚
- $\mathbf{L}$ï¼šå½’ä¸€åŒ–çš„å…‰çº¿æ–¹å‘å‘é‡ï¼ˆä»è¡¨é¢ç‚¹åˆ°å…‰æºï¼‰ã€‚
- $\mathbf{N}$ï¼šå½’ä¸€åŒ–çš„è¡¨é¢æ³•çº¿å‘é‡ã€‚
- $(\mathbf{L} \cdot \mathbf{N})$ï¼šç‚¹ç§¯ï¼ˆclamped åˆ° `[0,1]`ï¼‰ã€‚
endif::[]
ifndef::env-github[]
stem:[I_{\text{diffuse}} = k_d \cdot I_{\text{light}} \cdot (\mathbf{L} \cdot \mathbf{N})]
*å‚æ•°è¯´æ˜*ï¼š
- latexmath:[k_d]ï¼šæè´¨çš„æ¼«åå°„ç³»æ•°ï¼ˆé¢œè‰²/è´´å›¾ï¼‰ã€‚
- latexmath:[I_{\text{light}}]ï¼šå…‰æºå¼ºåº¦ã€‚
- latexmath:[\mathbf{L}]ï¼šå½’ä¸€åŒ–çš„å…‰çº¿æ–¹å‘å‘é‡ï¼ˆä»è¡¨é¢ç‚¹åˆ°å…‰æºï¼‰ã€‚
- latexmath:[\mathbf{N}]ï¼šå½’ä¸€åŒ–çš„è¡¨é¢æ³•çº¿å‘é‡ã€‚
- latexmath:[(\mathbf{L} \cdot \mathbf{N})]ï¼šç‚¹ç§¯ï¼ˆclamped åˆ° `[0,1]`ï¼‰ã€‚
endif::[]

- å…³é”®ç‚¹
ä¸è§‚å¯Ÿæ–¹å‘æ— å…³ï¼Œä»…å–å†³äºå…‰çº¿ä¸æ³•çº¿çš„å¤¹è§’ã€‚
èƒŒé¢å…‰ç…§ï¼ˆç‚¹ç§¯ < 0ï¼‰æ—¶é€šå¸¸å¿½ç•¥ã€‚

====== é«˜å…‰åå°„(specular)
- ç‰©ç†åŸç†
å…‰çº¿åœ¨å…‰æ»‘è¡¨é¢ä¸Šçš„é•œé¢åå°„ï¼Œå½¢æˆäº®æ–‘(é«˜å…‰)ã€‚

- è§†è§‰è¡¨ç°
æ˜äº®å…‰æ–‘

- è®¡ç®—å¤æ‚åº¦
é«˜ï¼ˆéœ€åå°„/åŠè§’å‘é‡ï¼‰

- å…¸å‹ç”¨é€”
é‡‘å±ã€å…‰æ»‘å¡‘æ–™

====== Phongæ¨¡å‹
ä¸€ä¸ªå®Œæ•´çš„å±€éƒ¨å…‰ç…§é€šå¸¸ç”±ä¸‰ä¸ªï¼ˆæˆ–å››ä¸ªï¼‰éƒ¨åˆ†ç»„æˆ:
ç¯å¢ƒå…‰ï¼ˆAmbientï¼‰ï¼šæ¨¡æ‹Ÿä»å‘¨å›´ç¯å¢ƒé—´æ¥åå°„è¿‡æ¥çš„å…‰ï¼Œé˜²æ­¢å®Œå…¨é»‘æš—çš„åŒºåŸŸå‡ºç°ã€‚å®ƒæ˜¯ä¸€ä¸ªå¸¸æ•°ã€‚
æ¼«åå°„ï¼ˆDiffuseï¼‰ï¼šæ¨¡æ‹Ÿç²—ç³™è¡¨é¢å¯¹å…‰çº¿çš„å‡åŒ€æ•£å°„ã€‚å…‰çº¿å…¥å°„è§’åº¦ä¸åŒï¼Œäº®åº¦ä¸åŒï¼Œä½†ä¸è§†è§’æ— å…³ã€‚
é«˜å…‰åå°„ï¼ˆSpecularï¼‰ï¼šæ¨¡æ‹Ÿå…‰æ»‘è¡¨é¢ä¸Šçš„äº®æ–‘ï¼ˆé«˜å…‰ï¼‰ã€‚å®ƒçš„å¼ºåº¦é«˜åº¦ä¾èµ–äºè§†è§’æ–¹å‘å’Œå…‰çº¿å…¥å°„æ–¹å‘ã€‚
è‡ªå‘å…‰ï¼ˆEmissiveï¼‰ï¼šï¼ˆå¯é€‰ï¼‰æ¨¡æ‹Ÿç‰©ä½“è‡ªèº«å‘å‡ºçš„å…‰ï¼Œä¸å—å…¶ä»–å…‰æºå½±å“ã€‚

Phong å’Œ Blinn-Phong çš„æ ¸å¿ƒåŒºåˆ«å°±åœ¨äºå¦‚ä½•è®¡ç®—è¿™ä¸ªé«˜å…‰é¡¹ã€‚

====== Blinn-Phongæ¨¡å‹
å±€é™æ€§:
é¦–å…ˆï¼Œæœ‰å¾ˆå¤šé‡è¦çš„ç‰©ç†ç°è±¡æ— æ³•ç”¨ Blinn-Phong æ¨¡å‹è¡¨ç°å‡ºæ¥ï¼Œä¾‹å¦‚è²æ¶…è€³åå°„(Fresnel reflection)ã€‚
å…¶æ¬¡ï¼ŒBlinn-Phong æ¨¡å‹æ˜¯å„é¡¹åŒæ€§(isotropic)çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å›ºå®šè§†è§’å’Œå…‰æºæ–¹å‘æ—‹è½¬è¿™ä¸ªè¡¨é¢æ—¶ï¼Œåå°„ä¸ä¼šå‘ç”Ÿä»»ä½•æ”¹å˜ã€‚ä½†æœ‰äº›è¡¨é¢æ˜¯å…·æœ‰å„å‘å¼‚æ€§(anisotropic)åå°„æ€§è´¨çš„ï¼Œä¾‹å¦‚æ‹‰ä¸é‡‘å±ˆã€æ¯›å‘ç­‰ã€‚

====== é€åƒç´ è¿˜æ˜¯é€é¡¶ç‚¹
å…‰ç…§æ¨¡å‹ä½¿ç”¨çš„æ•°å­¦å…¬å¼ï¼Œé‚£ä¹ˆåœ¨å“ªé‡Œè®¡ç®—è¿™äº›å…‰ç…§æ¨¡å‹å‘¢ï¼Ÿé€šå¸¸æ¥è®²ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼šåœ¨ç‰‡å…ƒç€è‰²å™¨ä¸­è®¡ç®—ï¼Œä¹Ÿè¢«ç§°ä¸ºé€åƒç´ å…‰ç…§(per-pixel lighting)ï¼›åœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­è®¡ç®—ï¼Œä¹Ÿè¢«ç§°ä¸ºé€é¡¶ç‚¹å…‰ç…§(per-vertex lighting)ã€‚

åœ¨é€åƒç´ å…‰ç…§ä¸­ï¼Œä»¥æ¯ä¸ªåƒç´ ä¸ºåŸºç¡€ï¼Œå¾—åˆ°å®ƒçš„æ³•çº¿ï¼ˆå¯ä»¥æ˜¯å¯¹é¡¶ç‚¹æ³•çº¿æ’å€¼å¾—åˆ°çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»æ³•çº¿çº¹ç†ä¸­é‡‡æ ·å¾—åˆ°çš„ï¼‰ï¼Œç„¶åè¿›è¡Œå…‰ç…§æ¨¡å‹çš„è®¡ç®—ã€‚è¿™ç§åœ¨é¢ç‰‡ä¹‹é—´å¯¹é¡¶ç‚¹æ³•çº¿è¿›è¡Œæ’å€¼çš„æŠ€æœ¯è¢«ç§°ä¸ºPhongç€è‰²(Phong shading)ï¼Œä¹Ÿè¢«ç§°ä¸ºPhongæ’å€¼æˆ–æ³•çº¿æ’å€¼ç€è‰²æŠ€æœ¯ã€‚è¿™ä¸åŒäºä¹‹å‰è®²åˆ°çš„Phongå…‰ç…§æ¨¡å‹ã€‚

ä¸ä¹‹ç›¸å¯¹çš„æ˜¯é€é¡¶ç‚¹å…‰ç…§ï¼Œä¹Ÿè¢«ç§°ä¸ºé«˜æ´›å¾·ç€è‰²(Gouraud shading)ã€‚åœ¨é€é¡¶ç‚¹å…‰ç…§ä¸­ï¼Œåœ¨æ¯ä¸ªé¡¶ç‚¹ä¸Šè®¡ç®—å…‰ç…§ï¼Œç„¶åä¼šåœ¨æ¸²æŸ“å›¾å…ƒå†…éƒ¨è¿›è¡Œçº¿æ€§æ’å€¼ï¼Œæœ€åè¾“å‡ºæˆåƒç´ é¢œè‰²ã€‚ç”±äºé¡¶ç‚¹æ•°ç›®å¾€å¾€è¿œå°äºåƒç´ æ•°ç›®ï¼Œå› æ­¤é€é¡¶ç‚¹å…‰ç…§çš„è®¡ç®—é‡å¾€å¾€è¦å°åƒé€åƒç´ å…‰ç…§ã€‚ä½†æ˜¯ï¼Œç”±äºé€é¡¶ç‚¹å…‰ç…§ä¾èµ–äºçº¿æ€§æ’å€¼æ¥å¾—åˆ°åƒç´ å…‰ç…§ï¼Œå› æ­¤ï¼Œå½“å…‰ç…§æ¨¡å‹ä¸­æœ‰éçº¿æ€§çš„è®¡ç®—ï¼ˆä¾‹å¦‚è®¡ç®—é«˜å…‰åå°„æ—¶ï¼‰æ—¶ï¼Œé€é¡¶ç‚¹å…‰ç…§å°±ä¼šå‡ºé—®é¢˜ã€‚è€Œä¸”ï¼Œç”±äºé€é¡¶ç‚¹å…‰ç…§ä¼šåœ¨æ¸²æŸ“å›¾å…ƒå†…éƒ¨å¯¹é¡¶ç‚¹é¢œè‰²è¿›è¡Œæ’å€¼ï¼Œè¿™ä¼šå¯¼è‡´æ¸²æŸ“å›¾å…ƒå†…éƒ¨çš„é¢œè‰²æ€»æ˜¯æš—äºé¡¶ç‚¹å¤„çš„æœ€é«˜é¢œè‰²å€¼ï¼Œè¿™åœ¨æŸäº›æƒ…å†µä¸‹ä¼šäº§ç”Ÿæ˜æ˜¾çš„æ£±è§’ç°è±¡ã€‚

===== Unityä¸­çš„ç¯å¢ƒå…‰ä¸è‡ªå‘å…‰

===== åœ¨Unity Shaderä¸­å®ç°æ¼«åå°„å…‰ç…§æ¨¡å‹
====== é€é¡¶ç‚¹
====== é€åƒç´ 
====== åŠå…°ä¼¯ç‰¹æ¨¡å‹

===== åœ¨Unity Shaderä¸­å®ç°é«˜å…‰åå°„å…‰ç…§æ¨¡å‹
====== é€é¡¶ç‚¹
====== é€åƒç´ 

===== ä½¿ç”¨Unityå†…ç½®çš„å‡½æ•°

===== Unityçš„æ¸²æŸ“è·¯å¾„

===== Unityçš„å…‰æºç±»å‹
unityä¸€ç§æ”¯æŒ4ç§å…‰æºç±»å‹: å¹³è¡Œå…‰ã€ç‚¹å…‰æºã€èšå…‰ç¯å’Œé¢å…‰æº(area light)ã€‚

- å¹³è¡Œå…‰
å¹³è¡Œå…‰æ²¡æœ‰ä¸€ä¸ªå…·ä½“çš„ä½ç½®ï¼Œå› æ­¤æ²¡æœ‰è¡°å‡çš„æ¦‚å¿µï¼Œå³å…‰ç…§å¼ºåº¦ä¸ä¼šéšç€è·ç¦»å‘ç”Ÿæ”¹å˜ã€‚
å¹³è¡Œå…‰å¯ä»¥æ”¾åœ¨åœºæ™¯ä¸­çš„ä»»æ„ä½ç½®ã€‚
å¹³è¡Œå…‰åˆ°åœºæ™¯ä¸­æ‰€æœ‰ç‚¹çš„æ–¹å‘éƒ½æ˜¯ä¸€æ ·çš„ã€‚

- ç‚¹å…‰æº
ç‚¹å…‰æºç…§äº®çš„ç©ºé—´æ˜¯æœ‰é™çš„ï¼Œå®ƒç”±ç©ºé—´çš„ä¸€ä¸ªçƒä½“å®šä¹‰ã€‚
ç‚¹å…‰æºæ˜¯ä¼šè¡°å‡çš„ï¼Œéšç€ç‰©ä½“é€æ¸è¿œç¦»ç‚¹å…‰æºï¼Œå®ƒæ¥æ”¶åˆ°çš„å…‰ç…§å¼ºåº¦ä¹Ÿä¼šé€æ¸å‡å°ã€‚

- èšå…‰ç¯
ç…§äº®ç©ºé—´ä¹Ÿæ˜¯æœ‰é™çš„ï¼Œä½†ä¸å†æ˜¯ç®€å•çš„çƒä½“ï¼Œè€Œæ˜¯ç”±ç©ºé—´ä¸­çš„ä¸€å—é”¥å½¢åŒºåŸŸå®šä¹‰ã€‚
èšå…‰ç¯å¯ä»¥ç”¨äºè¡¨ç¤ºç”±ä¸€ä¸ªç‰¹å®šä½ç½®å‡ºå‘ï¼Œå‘ç‰¹å®šæ–¹å‘å»¶ä¼¸çš„å…‰ã€‚

===== Unityçš„å…‰ç…§è¡°å‡
- ç”¨äºå…‰ç…§è¡°å‡çš„çº¹ç†
- ä½¿ç”¨æ•°å­¦å…¬å¼è®¡ç®—è¡°å‡

===== Unityçš„é˜´å½±
====== é˜´å½±æ˜¯å¦‚ä½•å®ç°çš„
åœ¨å®æ—¶æ¸²æŸ“ä¸­ï¼Œæœ€å¸¸ä½¿ç”¨çš„æ˜¯ä¸€ç§åä¸º Shadow Map çš„æŠ€æœ¯ã€‚å®ƒä¼šé¦–å…ˆæŠŠæ‘„åƒæœºçš„ä½ç½®æ”¾åœ¨ä¸å…‰æºé‡åˆçš„ä½ç½®ä¸Šï¼Œé‚£ä¹ˆåœºæ™¯ä¸­è¯¥å…‰æºçš„é˜´å½±åŒºåŸŸå°±æ˜¯é‚£äº›æ‘„åƒæœºçœ‹ä¸åˆ°çš„åœ°æ–¹ã€‚Unity ä½¿ç”¨çš„å°±æ˜¯è¿™ç§æŠ€æœ¯ã€‚

====== ä¸é€æ˜ç‰©ä½“çš„é˜´å½±
====== ä½¿ç”¨å¸§è°ƒè¯•å™¨æŸ¥çœ‹é˜´å½±ç»˜åˆ¶è¿‡ç¨‹
====== ç»Ÿä¸€ç®¡ç†å…‰ç…§è¡°å‡å’Œé˜´å½±
====== é€æ˜åº¦ç‰©ä½“çš„é˜´å½±

==== çº¹ç†
===== å•å¼ çº¹ç†
- çº¹ç†å±æ€§

===== å‡¹å‡¸æ˜ å°„(bump mapping)
====== å®ç°åŸç†

    å‡¹å‡¸æ˜ å°„é€šå¸¸ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼ä¹‹ä¸€:
        é«˜åº¦å›¾(Height Map):
            ç°åº¦å›¾åƒè¡¨ç¤ºè¡¨é¢é«˜åº¦å˜åŒ–
            äº®è‰²åŒºåŸŸè¡¨ç¤º"å‡¸èµ·"ï¼Œæš—è‰²åŒºåŸŸè¡¨ç¤º"å‡¹é™·"
        æ³•çº¿å›¾(Normal Map):
            RGBå›¾åƒç›´æ¥å­˜å‚¨æ³•çº¿æ–¹å‘
            Rã€Gã€Bé€šé“åˆ†åˆ«å¯¹åº”æ³•çº¿çš„Xã€Yã€Zåˆ†é‡

====== é«˜åº¦çº¹ç†

====== æ³•çº¿çº¹ç†
- æ¨¡å‹ç©ºé—´çš„æ³•çº¿çº¹ç†(object-space normal map)
â€¢ å®ç°ç®€å•ï¼Œæ›´åŠ ç›´è§‚ã€‚ç”šè‡³éƒ½ä¸éœ€è¦æ¨¡å‹åŸå§‹çš„æ³•çº¿å’Œåˆ‡çº¿ç­‰ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè®¡ç®—æ›´å°‘ã€‚ç”Ÿæˆå®ƒä¹Ÿéå¸¸ç®€å•ï¼Œè€Œå¦‚æœè¦ç”Ÿæˆåˆ‡çº¿ç©ºé—´ä¸‹çš„æ³•çº¿çº¹ç†ï¼Œç”±äºæ¨¡å‹çš„åˆ‡çº¿ä¸€èˆ¬æ˜¯å’ŒUVæ–¹å‘ç›¸åŒï¼Œå› æ­¤æƒ³è¦å¾—åˆ°æ•ˆæœæ¯”è¾ƒå¥½çš„æ³•çº¿æ˜ å°„å°±è¦æ±‚çº¹ç†æ˜ å°„ä¹Ÿæ˜¯è¿ç»­çš„ã€‚
â€¢ åœ¨çº¹ç†åæ ‡çš„ç¼åˆå¤„å’Œå°–é”çš„è¾¹è§’éƒ¨åˆ†ï¼Œå¯è§çš„çªå˜ï¼ˆç¼éš™ï¼‰è¾ƒå°‘ï¼Œå³å¯ä»¥æä¾›å¹³æ»‘çš„è¾¹ç•Œã€‚è¿™æ˜¯å› ä¸ºæ¨¡å‹ç©ºé—´ä¸‹çš„æ³•çº¿çº¹ç†å­˜å‚¨çš„æ˜¯åŒä¸€åæ ‡ç³»ä¸‹çš„æ³•çº¿ä¿¡æ¯ï¼Œå› æ­¤åœ¨è¾¹ç•Œå¤„é€šè¿‡æ’å€¼å¾—åˆ°çš„æ³•çº¿å¯ä»¥å¹³æ»‘å˜æ¢ã€‚è€Œåˆ‡çº¿ç©ºé—´ä¸‹çš„æ³•çº¿çº¹ç†ä¸­çš„æ³•çº¿ä¿¡æ¯æ˜¯ä¾é çº¹ç†åæ ‡çš„æ–¹å‘å¾—åˆ°çš„ç»“æœï¼Œå¯èƒ½ä¼šåœ¨è¾¹ç¼˜å¤„æˆ–å°–é”çš„éƒ¨åˆ†é€ æˆæ›´å¤šå¯è§çš„ç¼åˆè¿¹è±¡ã€‚

- åˆ‡çº¿ç©ºé—´çš„æ³•çº¿çº¹ç†(tangent-space normal map)
â€¢ è‡ªç”±åº¦å¾ˆé«˜ã€‚æ¨¡å‹ç©ºé—´ä¸‹çš„æ³•çº¿çº¹ç†è®°å½•çš„æ˜¯ç»å¯¹æ³•çº¿ä¿¡æ¯ï¼Œä»…å¯ç”¨äºåˆ›å»ºå®ƒæ—¶çš„é‚£ä¸ªæ¨¡å‹ï¼Œè€Œåº”ç”¨åˆ°å…¶å®ƒæ¨¡å‹ä¸Šæ•ˆæœå°±å®Œå…¨é”™è¯¯äº†ã€‚è€Œåˆ‡çº¿ç©ºé—´ä¸‹çš„æ³•çº¿çº¹ç†è®°å½•çš„æ˜¯ç›¸å¯¹æ³•çº¿ä¿¡æ¯ï¼Œè¿™æ„å‘³ç€ï¼Œå³ä¾¿æŠŠè¯¥çº¹ç†åº”ç”¨åˆ°ä¸€ä¸ªå®Œå…¨ä¸åŒçš„ç½‘æ ¼ä¸Šï¼Œä¹Ÿå¯ä»¥å¾—åˆ°ä¸€ä¸ªåˆç†çš„ç»“æœã€‚
â€¢ å¯è¿›è¡ŒUVåŠ¨ç”»ã€‚æ¯”å¦‚ï¼Œå¯ä»¥ç§»åŠ¨ä¸€ä¸ªçº¹ç†çš„UVåæ ‡æ¥å®ç°ä¸€ä¸ªå‡¹å‡¸ç§»åŠ¨çš„æ•ˆæœï¼Œä½†ä½¿ç”¨æ¨¡å‹ç©ºé—´ä¸‹çš„æ³•çº¿çº¹ç†ä¼šå¾—åˆ°å®Œå…¨é”™è¯¯çš„ç»“æœã€‚åŸå› åŒä¸Šã€‚è¿™ç§UVåŠ¨ç”»åœ¨æ°´æˆ–è€…ç«å±±ç†”å²©è¿™ç§ç±»å‹çš„ç‰©ä½“ä¸Šä¼šç»å¸¸ç”¨åˆ°ã€‚
â€¢ å¯ä»¥é‡ç”¨æ³•çº¿çº¹ç†ã€‚æ¯”å¦‚ä¸€ä¸ªç –å—ï¼Œä»…ä½¿ç”¨ä¸€å¼ æ³•çº¿çº¹ç†å°±å¯ä»¥ç”¨åˆ°æ‰€æœ‰çš„6ä¸ªé¢ä¸Šã€‚
â€¢ å¯å‹ç¼©ã€‚ç”±äºåˆ‡çº¿ç©ºé—´ä¸‹çš„æ³•çº¿çº¹ç†ä¸­æ³•çº¿çš„ Z æ–¹å‘æ€»æ˜¯æ­£æ–¹å‘ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä»…å­˜å‚¨XYæ–¹å‘ï¼Œè€Œæ¨å¯¼å¾—åˆ°Zæ–¹å‘ã€‚è€Œæ¨¡å‹ç©ºé—´ä¸‹çš„æ³•çº¿çº¹ç†ç”±äºæ¯ä¸ªæ–¹å‘éƒ½æ˜¯å¯èƒ½çš„ï¼Œå› æ­¤å¿…é¡»å­˜å‚¨3ä¸ªæ–¹å‘çš„å€¼ï¼Œä¸å¯å‹ç¼©ã€‚
åˆ‡çº¿ç©ºé—´åœ¨å¾ˆå¤šæƒ…å†µä¸‹éƒ½ä¼˜äºæ¨¡å‹ç©ºé—´ï¼Œè€Œä¸”å¯ä»¥èŠ‚çœç¾æœ¯äººå‘˜çš„å·¥ä½œã€‚

====== å®è·µ
====== Unityä¸­çš„æ³•çº¿çº¹ç†ç±»å‹

===== æ¸å˜çº¹ç†(ramp texture)

===== é®ç½©çº¹ç†(mask texture)
dota2:
https://help.steampowered.com/zh-cn/faqs/view/299C-D7F9-09A5-98B6

===== ç«‹æ–¹ä½“çº¹ç†

===== æ¸²æŸ“çº¹ç†

===== ç¨‹åºçº¹ç†

==== é€æ˜æ•ˆæœ
===== æ¸²æŸ“é¡ºåº
===== Unity Shaderçš„æ¸²æŸ“é¡ºåº
===== é€æ˜åº¦æµ‹è¯•(alpha test)
===== é€æ˜åº¦æ··åˆ(alpha blending)
===== å¼€å¯æ·±åº¦å†™å…¥çš„åŠé€æ˜æ•ˆæœ
===== ShaderLabçš„æ··åˆå‘½ä»¤
===== åŒé¢æ¸²æŸ“çš„é€æ˜æ•ˆæœ

==== åŠ¨ç”»
===== çº¹ç†åŠ¨ç”»
===== é¡¶ç‚¹åŠ¨ç”»

==== å±å¹•åå¤„ç†æ•ˆæœ(screen post-processing effects)

==== shaders in URP
https://docs.unity3d.com/Manual/urp/shaders-in-universalrp.html
https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@7.1/manual/shaders-in-universalrp.html

==== æ³¨æ„äº‹é¡¹
- é¿å…ä¸å¿…è¦çš„è®¡ç®—
- æ…ç”¨åˆ†æ”¯å’Œå¾ªç¯è¯­å¥

==== å·¥å…·
===== Shader Graph
https://www.zhihu.com/question/475771378
æ³¨æ„: ShaderForgeå·²åºŸå¼ƒ

==== å‚è€ƒ
https://docs.unity3d.com/Manual/Shaders.html
ã€ŠUnity Shaderå…¥é—¨ç²¾è¦ã€‹

=== virtual geometry(è™šæ‹Ÿå‡ ä½•ä½“)
https://docs.unity.cn/cn/tuanjiemanual/Manual/VirtualGeometry.html

Q: å±€é™æ€§/é™åˆ¶ï¼Ÿ

=== å‚è€ƒ
https://docs.unity3d.com/Manual/Graphics.html
https://docs.unity3d.com/cn/current/Manual/Graphics.html

== åŠ¨ç”»
=== æ¦‚å¿µ
- æ¨¡å‹åŠ¨ç”»ä¸éæ¨¡å‹åŠ¨ç”»

    æ¨¡å‹åŠ¨ç”»:
        é¡¶ç‚¹åŠ¨ç”»ä¸éª¨éª¼åŠ¨ç”»
    éæ¨¡å‹åŠ¨ç”»:
        éæ¨¡å‹åŠ¨ç”»æŒ‡çš„æ˜¯ä¸ä¾èµ–3Dç½‘æ ¼æ¨¡å‹æˆ–éª¨éª¼ç³»ç»Ÿçš„åŠ¨ç”»æŠ€æœ¯ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ç±»å‹:
        å¸§åŠ¨ç”»/2Dç²¾çµåŠ¨ç”»ã€ç²’å­ç³»ç»Ÿã€ç¨‹åºåŒ–åŠ¨ç”»å¦‚æ°´é¢æ³¢åŠ¨ã€ç€è‰²å™¨åŠ¨ç”»ã€çŸ¢é‡åŠ¨ç”»ç­‰ã€‚

- Spineä¸Unityéª¨éª¼åŠ¨ç”»
Spine å’Œ Unity çš„éª¨éª¼åŠ¨ç”»ç³»ç»Ÿæ˜¯ä¸¤ç§ä¸åŒçš„å·¥å…·ï¼Œåˆ†åˆ«ç”¨äº 2D å’Œ 3D åŠ¨ç”»åˆ¶ä½œä¸é›†æˆã€‚
Spineä¸Unityéª¨éª¼åŠ¨ç”»çš„åŒºåˆ«:
[cols="1,1,1", options="header"]
|===
| ç‰¹æ€§               | Spine                             | Unity éª¨éª¼åŠ¨ç”»
| *ä¸»è¦ç”¨é€”*         | ä¸“ä¸º 2D éª¨éª¼åŠ¨ç”»è®¾è®¡                | ä¸»è¦ç”¨äº 3D éª¨éª¼åŠ¨ç”»ï¼Œä¹Ÿæ”¯æŒ 2D åŠ¨ç”»
| *åŠ¨ç”»ç±»å‹*         | 2D éª¨éª¼åŠ¨ç”»                        | 3D éª¨éª¼åŠ¨ç”»ä¸ºä¸»ï¼Œ2D éª¨éª¼åŠ¨ç”»ä¸ºè¾…
| *å·¥å…·é“¾*           | ç‹¬ç«‹çš„ Spine ç¼–è¾‘å™¨                | Unity å†…ç½®çš„ Animator å’ŒåŠ¨ç”»å·¥å…·
| *æ€§èƒ½ä¼˜åŒ–*         | è½»é‡çº§ï¼Œé€‚åˆç§»åŠ¨ç«¯                  | ä¾èµ–é¡¹ç›®å¤æ‚åº¦ï¼Œ3D åŠ¨ç”»å¯èƒ½è¾ƒé‡
| *é›†æˆæ€§*           | éœ€è¦å¯¼å…¥ Spine è¿è¡Œæ—¶åº“åˆ° Unity     | å®Œå…¨é›†æˆåœ¨ Unity å¼•æ“ä¸­
| *å­¦ä¹ æ›²çº¿*         | ä¸“æ³¨äº 2D åŠ¨ç”»ï¼Œå­¦ä¹ æ›²çº¿è¾ƒä½         | éœ€è¦æŒæ¡ Unity çš„åŠ¨ç”»ç³»ç»Ÿå’Œå·¥å…·é“¾
| *é€‚ç”¨åœºæ™¯*         | 2D æ¸¸æˆã€ç§»åŠ¨ç«¯æ¸¸æˆ                 | 3D æ¸¸æˆã€2D/3D æ··åˆé¡¹ç›®
|===

=== åŠ¨ç”»æ–‡ä»¶
1. Animationï¼ˆæ—§ç‰ˆåŠ¨ç”»ç³»ç»Ÿï¼‰
é€‚ç”¨åœºæ™¯ï¼šç®€å•çš„åŠ¨ç”»æ’­æ”¾ï¼Œé€‚åˆå°å‹é¡¹ç›®æˆ–éäººå½¢åŠ¨ç”»ï¼ˆå¦‚ç‰©ä½“ç§»åŠ¨ã€æ—‹è½¬ç­‰ï¼‰ã€‚
æ ¸å¿ƒç»„ä»¶ï¼šAnimation ç»„ä»¶ + .anim åŠ¨ç”»ç‰‡æ®µã€‚

2. Animatorï¼ˆæ–°ç‰ˆåŠ¨ç”»ç³»ç»Ÿï¼ŒMecanimï¼‰
é€‚ç”¨åœºæ™¯ï¼šå¤æ‚åŠ¨ç”»é€»è¾‘ï¼ˆå¦‚è§’è‰²çŠ¶æ€æœºã€æ··åˆåŠ¨ç”»ã€äººå½¢åŠ¨ç”»é‡å®šå‘ï¼‰ã€‚
æ ¸å¿ƒç»„ä»¶ï¼šAnimator ç»„ä»¶ + Animator Controllerï¼ˆçŠ¶æ€æœºï¼‰ + Animation Clipã€‚

ä½¿ç”¨æ–°ç‰ˆåŠ¨ç”»ï¼Œä¹Ÿä¸ä¸€å®šå¿…é¡»åˆ›å»ºAnimator Controlleræ–‡ä»¶ï¼Œé€šè¿‡Playableçš„æ–¹å¼ä¹Ÿå¯ä»¥ä½¿ç”¨ä»£ç å¤„ç†åŠ¨ç”»ã€‚

=== åˆ¶ä½œåŠ¨ç”»
å†…éƒ¨åŠ¨ç”»
å¤–éƒ¨åŠ¨ç”»(å¦‚FBXã€GLTFç­‰)

=== åŠ¨ç”»äº‹ä»¶
=== éª¨éª¼åŠ¨ç”»ä¼˜åŒ–
=== æ’­æ”¾åŠ¨ç”»
=== åˆ‡æ¢åŠ¨ç”»
=== åŠ¨ç”»æ··åˆ
=== è€ç‰ˆåŠ¨ç”»
=== SimpleAnimation ç»„ä»¶
=== æ§åˆ¶åŠ¨ç”»è¿›åº¦
=== ç‰¹æ®ŠåŠ¨ç”»è¡Œä¸º
=== Playable ç»„ä»¶
=== ä½¿ç”¨ Playable è‡ªå®šä¹‰è„šæœ¬

=== æ¨¡å‹æ¢è£…
- æ›´æ¢æè´¨

- æ›´æ¢æ¨¡å‹
ä¸å¸¦è’™çš®ä¿¡æ¯çš„mesh

- æ›´æ¢è’™çš®æ¨¡å‹
skinned mesh

=== timeline
https://docs.unity3d.com/Manual/com.unity.timeline.html

ğŸ”¹ timelineç¼ºç‚¹
1. æ€§èƒ½å¼€é”€
Playables API åº•å±‚å¼€é”€ï¼šç›¸æ¯”ç›´æ¥ä½¿ç”¨ Animator æˆ–ä»£ç æ§åˆ¶åŠ¨ç”»ï¼ŒTimeline ä¼šå¸¦æ¥é¢å¤–æ€§èƒ½è´Ÿæ‹…ï¼Œå°¤å…¶åœ¨ä½ç«¯è®¾å¤‡ä¸Šã€‚
ä¸é€‚åˆé«˜é¢‘æ›´æ–°åŠ¨ç”»ï¼ˆå¦‚å®æ—¶æˆ˜æ–—åŠ¨ä½œï¼‰ã€‚
2. åŠ¨æ€æ§åˆ¶è¾ƒå¼±
è¿è¡Œæ—¶ä¿®æ”¹å—é™: è™½ç„¶å¯ä»¥åŠ¨æ€ç»‘å®šå¯¹è±¡ï¼Œä½†æ—¶é—´è½´ç»“æ„ï¼ˆå¦‚è½¨é“ã€Clipï¼‰ä¸èƒ½åœ¨è¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹ã€‚
æ¡ä»¶åˆ†æ”¯å›°éš¾: éš¾ä»¥å®ç°â€œæ ¹æ®ç©å®¶é€‰æ‹©æ’­æ”¾ä¸åŒå‰§æƒ…â€çš„é€»è¾‘ï¼Œéœ€é…åˆä»£ç ï¼ˆå¦‚ PlayableDirector.Pause() + è„šæœ¬è·³è½¬ï¼‰ã€‚
3. å¤æ‚åŠ¨ç”»æ··åˆçš„å±€é™æ€§
æ··åˆç²¾åº¦ä¸è¶³: å¤æ‚åŠ¨ç”»æ··åˆï¼ˆå¦‚ä¸ŠåŠèº«æ”»å‡» + ä¸‹åŠèº«è·‘æ­¥ï¼‰ä»éœ€ä¾èµ– Animator Layer æˆ–ä»£ç ã€‚
ä¸æ”¯æŒç‰©ç†åŠ¨ç”»ï¼ˆå¦‚å¸ƒå¨ƒå¨ƒæ•ˆæœï¼‰ã€‚
4. å­¦ä¹ æˆæœ¬ä¸å·¥ä½œæµé—®é¢˜
é™¡å³­çš„å­¦ä¹ æ›²çº¿: éœ€æŒæ¡ Playables APIã€Track ç±»å‹ã€Signal ç³»ç»Ÿ ç­‰æ¦‚å¿µã€‚
ç‰ˆæœ¬å…¼å®¹æ€§: ä¸åŒ Unity ç‰ˆæœ¬çš„ Timeline åŠŸèƒ½å¯èƒ½æœ‰å·®å¼‚ï¼ˆå¦‚ 2019 åæ–°å¢çš„ Track ç±»å‹ï¼‰ã€‚
5. è°ƒè¯•å›°éš¾
é—®é¢˜éš¾ä»¥å®šä½: å¦‚æœåŠ¨ç”»æœªæ’­æ”¾ï¼Œå¯èƒ½åŸå› åŒ…æ‹¬ç»‘å®šä¸¢å¤±ã€Clip é…ç½®é”™è¯¯ã€æƒé‡é—®é¢˜ç­‰ï¼Œéœ€é€é¡¹æ’æŸ¥ã€‚

ğŸ”¹ Timeline vs. æ›¿ä»£æ–¹æ¡ˆ
éœ€æ±‚åœºæ™¯	Timeline	Animator	ä»£ç æ§åˆ¶ï¼ˆCoroutine/DOTweenï¼‰	Cinemachine
è¿‡åœºåŠ¨ç”»/å‰§æƒ…åºåˆ—	âœ… æœ€ä½³	âŒ ä¸é€‚ç”¨	âš ï¸ éœ€æ‰‹åŠ¨åŒæ­¥	âœ… é…åˆä½¿ç”¨
è§’è‰²åŠ¨ç”»æ··åˆ	âœ…	âœ… æ›´çµæ´»	âŒ å¤æ‚	âŒ ä¸é€‚ç”¨
é«˜é¢‘å®æ—¶åŠ¨ç”»ï¼ˆå¦‚æˆ˜æ–—ï¼‰	âŒ æ€§èƒ½å·®	âœ… æ¨è	âœ… ç›´æ¥æ§åˆ¶	âŒ ä¸é€‚ç”¨
åŠ¨æ€æ¡ä»¶åˆ†æ”¯	âš ï¸ éœ€é…åˆä»£ç 	âœ… çŠ¶æ€æœº	âœ… çµæ´»	âŒ ä¸é€‚ç”¨

ğŸ”¹ ä½¿ç”¨å»ºè®®
é€‚åˆ Timeline çš„åœºæ™¯:
    ç”µå½±å¼å™äº‹ã€å›ºå®šå‰§æƒ…åŠ¨ç”»ã€‚
    éœ€è¦éŸ³ç”»åŒæ­¥çš„è¿‡åœºï¼ˆå¦‚å¯¹è¯ + é•œå¤´åˆ‡æ¢ï¼‰ã€‚
    å¿«é€ŸåŸå‹è®¾è®¡ï¼ˆæ— éœ€ä»£ç ç¼–æ’åŠ¨ç”»ï¼‰ã€‚
é¿å… Timeline çš„åœºæ™¯:
    éœ€è¦é«˜é¢‘æ›´æ–°çš„å®æ—¶åŠ¨ç”»ã€‚
    å¤æ‚çš„çŠ¶æ€æœºé€»è¾‘ï¼ˆç”¨ Animator æ›´åˆé€‚ï¼‰ã€‚
    å®Œå…¨åŠ¨æ€ç”Ÿæˆçš„åŠ¨ç”»ï¼ˆå¦‚ç¨‹åºåŒ–å…³å¡ï¼‰ã€‚

ğŸ”¹ ä¼˜åŒ–æŠ€å·§
å‡å°‘ æ´»è·ƒè½¨é“æ•°é‡ ä»¥é™ä½æ€§èƒ½å¼€é”€ã€‚
ä½¿ç”¨ Signal Receiver æ›¿ä»£é¢‘ç¹çš„ Update æ£€æµ‹ã€‚
ç»“åˆ Animator å¤„ç†å¤æ‚åŠ¨ç”»æ··åˆã€‚

ğŸ”¹ æ€»ç»“
Timeline æ˜¯ Unity ä¸­å¼ºå¤§çš„å™äº‹å’ŒåŠ¨ç”»ç¼–æ’å·¥å…·ï¼Œç‰¹åˆ«é€‚åˆçº¿æ€§å†…å®¹ï¼Œä½†åœ¨åŠ¨æ€æ§åˆ¶å’Œæ€§èƒ½æ•æ„Ÿåœºæ™¯ä¸‹éœ€è°¨æ…ä½¿ç”¨ã€‚
åˆç†æ­é… Animatorã€DOTween æˆ–ä»£ç æ§åˆ¶ï¼Œå¯ä»¥æœ€å¤§åŒ–å…¶ä»·å€¼ã€‚

=== DOTween
è¡¥é—´åŠ¨ç”»(Tweening)
https://github.com/Demigiant/dotween

=== Slate
Slate æ˜¯ä¸€ä¸ªæµè¡Œçš„å‰§æƒ…åŠ¨ç”»ï¼ˆCinematicï¼‰å’Œåºåˆ—åŒ–ä»»åŠ¡ï¼ˆSequencingï¼‰æ’ä»¶ï¼Œä¸»è¦ç”¨äºåˆ¶ä½œæ¸¸æˆä¸­çš„è¿‡åœºåŠ¨ç”»ã€ä»»åŠ¡æµç¨‹ã€å¯¹è¯ç³»ç»Ÿç­‰äº¤äº’å¼å†…å®¹ã€‚å®ƒæä¾›å¯è§†åŒ–çš„æ—¶é—´è½´ï¼ˆTimelineï¼‰ç¼–è¾‘åŠŸèƒ½ï¼Œç±»ä¼¼äº Unity å®˜æ–¹çš„ Timeline å·¥å…·ï¼Œä½†æ›´è½»é‡ä¸”ä¸“æ³¨äºæ¸¸æˆé€»è¾‘çš„åºåˆ—åŒ–æ§åˆ¶ã€‚
https://slate.paradoxnotion.com/

=== å‚è€ƒ
https://docs.unity3d.com/Manual/AnimationSection.html

== physical
=== æ¦‚å¿µ
åˆšä½“
ç¢°æ’ä½“

Unity 2Då’Œ3Dé¡¹ç›®çš„ç‰©ç†å¼•æ“å‡åŸºäºPhysXã€‚

=== 2Dç‰©ç†ç³»ç»Ÿ
https://docs.unity3d.com/Manual/2d-physics/2d-physics.html

- Collider 2Dç»„ä»¶
- Rigidbody 2Dç»„ä»¶
- ç¢°æ’äº‹ä»¶
- ç¢°æ’æ–¹å‘
- è§¦å‘å™¨ç›‘å¬
- å¤åˆç¢°æ’ä½“
- Effectors 2Dç»„ä»¶
- å…³èŠ‚
- ç‰©ç†æè´¨ä¸æ’å®šåŠ›
- è®¡ç®—åŒºåŸŸ

=== 3Dç‰©ç†ç³»ç»Ÿ
- è§’è‰²æ§åˆ¶å™¨(Charator Controller)
- åˆšä½“ç‰©ç†(Rigibody Physics)
- ç¢°æ’ä½“(Collider)
- å…³èŠ‚(Joints)
- è¡”æ¥(Articulations)
- å¸ƒå¨ƒå¨ƒç‰©ç†(Ragdoll Physics)
- å¸ƒæ–™(Cloth)

=== å‚è€ƒ
https://docs.unity3d.com/Manual/PhysicsSection.html

== å¯¼èˆª
https://docs.unity3d.com/Manual/com.unity.ai.navigation.html

== æŒä¹…åŒ–

== èµ„æºç®¡ç†
=== ç¼–è¾‘å™¨æ¨¡å¼
- æ¸¸æˆèµ„æº

- åŠ è½½èµ„æº

- å¸è½½èµ„æº
Resources.UnloadAsset()
Resources.UnloadUnusedAssets()

- åˆ›å»ºä¸ä¿®æ”¹èµ„æº

- åˆ›å»ºä¸ä¿®æ”¹æ¸¸æˆå¯¹è±¡

- reimport
Q: reimportæœ¬è´¨ä¸Šæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ
Q: ä»€ä¹ˆæ—¶å€™éœ€è¦reimport?

=== è¿è¡Œæ¨¡å¼
- å‚ä¸æ‰“åŒ…çš„èµ„æº

- Resources

- é€šè¿‡è„šæœ¬è®¡ç®—ä¾èµ–

- StreamingAssets

- åœºæ™¯èµ„æº
åªéœ€è¦å°†åœºæ™¯æ·»åŠ åˆ°Build Settingsä¸­å°±å¯ä»¥å‚ä¸æ‰“åŒ…äº†ã€‚

=== AssetBundle
- è®¾ç½®AB

- è®¾ç½®ä¾èµ–

- çº¯è„šæœ¬æ‰“åŒ…

- å·®å¼‚æ‰“åŒ…

- ABå‹ç¼©æ ¼å¼

- åŠ è½½AB

- å†…å­˜ä¸å¸è½½

- åœºæ™¯AB

- CDNä¸‹è½½æµç¨‹

- åŠ è½½æµç¨‹

- å¤šè¿›ç¨‹ABæ„å»º

=== ä»£ç ç¼–è¯‘
ScriptAssemblies/Assembly-CSharp.dll

- Plugins
Pluginsç›®å½•ä¸‹çš„ä»£ç ä¼šç¼–è¯‘åˆ°Assembly-CSharp-firstpass.dllä¸­ï¼Œä¿®æ”¹é€»è¾‘ä»£ç å°±ä¸å†åŒæ—¶ç¼–è¯‘è¿™éƒ¨åˆ†ä»£ç äº†ã€‚
Pluginsç›®å½•ä¸‹çš„ä»£ç æ˜¯ä¼˜å…ˆç¼–è¯‘çš„ï¼ŒAssembly-CSharp.dllå¯ä»¥è°ƒç”¨å®ƒä»¬ï¼Œä½†æ˜¯å®ƒä»¬ä¸èƒ½åå‘è°ƒç”¨Assembly-CSharp.dllã€‚

- Assembly

- Editor
Assembly-CSharp-Editor.dll

- IL2CPP

- ABä¸­çš„è„šæœ¬

- çƒ­æ›´æ–°ä»£ç 

=== Shaderç¼–è¯‘
- æ‰“åŒ…ä¸è¿è¡Œ

- Shaderé‡å¤æ‰“åŒ…

- Shaderå®

- Shaderä¸ABåŒ…

- Shaderæ‰“åŒ…å‰¥ç¦»

=== ç¾æœ¯èµ„æºç®¡ç†
- ç‰ˆæœ¬ç®¡ç†
- æè´¨ä¸¢å¤±
- åä½œå¼€å‘ä¸å¤šå·¥ç¨‹
- ç¾æœ¯èµ„æºç”Ÿæˆ

== è‡ªåŠ¨åŒ–ä¸æ‰“åŒ…
=== è‡ªåŠ¨åŒ–è®¾ç½®èµ„æº
- è®¾ç½®è´´å›¾æ ¼å¼
é»˜è®¤è´´å›¾æ ¼å¼æ˜¯Automatic

- åŠ¨ç”»æ§åˆ¶å™¨
åº”è¯¥ç¦æ­¢ä½¿ç”¨Animation Controlleræ–‡ä»¶

- è®¾ç½®æ¨¡å‹æ ¼å¼

- å¯¼å‡ºåŠ¨ç”»æ–‡ä»¶

- ç”Ÿæˆè§’è‰²Prefab

- ç”Ÿæˆåœºæ™¯

- åœºæ™¯dirtyçŠ¶æ€

- è‡ªåŠ¨ç”ŸæˆUIå›¾é›†

- æ›´æ¢Shaderæ®‹ç•™å®

- è‡ªåŠ¨ç”Ÿæˆå˜ç§æ”¶é›†å™¨

- å‰”é™¤é¡¶ç‚¹è‰²

=== Build(æ„å»º)ç›¸å…³
https://docs.unity3d.com/Documentation/ScriptReference/BuildOptions.html

- android
https://docs.unity3d.com/Documentation/Manual/android-build-settings.html
Q: Script Debuggingä½œç”¨æ˜¯?

=== è‡ªåŠ¨åŒ–æ‰“åŒ…
- æ‰“åŒ…è¿‡ç¨‹ä¸­çš„äº‹ä»¶

- æ‰“åŒ…æœºçš„é€‰æ‹©
å»ºè®®windowsæ‰“åŒ…æœºæ„å»ºwindowså’ŒandroidåŒ…ï¼ŒmacOSæ„å»ºiOSå’ŒmacOSåŒ…ã€‚

- æ‰“åŒ…åè‡ªåŠ¨å‹ç¼©
- è°ƒç”¨shellè„šæœ¬
- å‘½ä»¤è¡Œæ‰“å¼€å·¥ç¨‹
- è„šæœ¬åŒ–æ‰“åŒ…å‚æ•°
- Jenkins

=== å¹³å°
==== andorid
https://docs.unity3d.com/Documentation/Manual/android-building-and-delivering.html
Q: APK vs. AAB(Android App Bundle)

== çƒ­é‡è½½
hot reload
https://www.bilibili.com/video/BV14X4y1y7mB/?vd_source=8390cf4acc81f67e6df66ea39d1fc6fe

== çƒ­æ›´æ–°
=== æ¦‚è§ˆ
https://zhuanlan.zhihu.com/p/535748877

=== hybridclr
https://hybridclr.doc.code-philosophy.com/docs/intro
https://github.com/focus-creative-games/inspect_hybridclr
https://github.com/focus-creative-games/hybridclr

- åŸºäºAOT(æœ¬åœ°æœºå™¨ä»£ç æ‰§è¡Œ)+Interpreter(ILè§£é‡Šæ‰§è¡Œ)ä½¿ç”¨åŒä¸€ä¸ªå†…å­˜æ•°æ®å¯¹è±¡ï¼Œæ²¡æœ‰è·¨åŸŸè®¿é—®çš„é—®é¢˜ã€‚
xLuaæˆ–ILRuntimeçƒ­æ›´æ–¹æ¡ˆéƒ½æœ‰ä¸€æ¡åŸåˆ™ï¼Œå°½é‡å‡å°‘ä¸Unity C#å±‚çš„äº¤äº’ï¼Œä½†æ˜¯è¿™ç§äº¤äº’åˆé¿å…ä¸äº†è€Œä¸”é‡å¤§ï¼Œæ¯”å¦‚è¦åœ¨é€»è¾‘çƒ­æ›´ä»£ç é‡Œé¢è®¿é—®Unity C#çš„GameObjectå¯¹è±¡æ•°æ®ï¼Œæœ€ç»ˆåœ¨è¿è¡Œçš„æ—¶å€™ï¼ŒGameObjectä¼šåœ¨AOTæ¨¡å¼ä¸‹çš„åŸç”Ÿå†…å­˜æ•°æ®ç»“æ„å¯¹è±¡ã€‚ç”±äºxLuaæˆ–ILRuntimeæœ‰è‡ªå·±çš„è™šæ‹Ÿæœºï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥è®¿é—®åŸç”ŸGameObjectæ•°æ®å¯¹è±¡ï¼Œå¾€å¾€è¦æŠŠè®¿é—®é‡Œé¢çš„æ•°æ®åŒ…è£…æˆå‡½æ•°ï¼Œè¿™æ ·æ€§èƒ½å¼€é”€å°±å¤§å¤§çš„å¢åŠ äº†ã€‚è€Œhybridæ˜¯åœ¨IL2CPPæ¨¡å¼ä¸‹çš„è§£é‡Šæ‰§è¡Œï¼Œç›´æ¥å¯ä»¥è®¿é—®åŸç”Ÿçš„æ•°æ®å¯¹è±¡ã€‚

- é€»è¾‘ä»£ç æ›´æ–°å(1.0ç‰ˆæœ¬åˆ°2.0ç‰ˆæœ¬)ï¼Œå¦‚æœå‘å¸ƒæ–°ç‰ˆæœ¬2.0(é‡æ–°å®‰è£…æ–°ç‰ˆæœ¬çš„app)ï¼Œå¯ä»¥ç›´æ¥æŠŠæ›´æ–°çš„é€»è¾‘ï¼Œç›´æ¥ä½¿ç”¨AOTç¼–è¯‘å‡ºæ¥ï¼Œä¸ç”¨è§£é‡Šæ‰§è¡Œï¼Œä»è€Œè·å¾—AOTçš„æ€§èƒ½ã€‚
è€ŒåŸºäºxLua, ILRuntimeçš„çƒ­æ›´æ–¹æ¡ˆå¼€å‘çš„ä»£ç (1.0ç‰ˆæœ¬åˆ°2.0ç‰ˆæœ¬)ï¼Œç”¨æˆ·å³ä½¿é‡æ–°å®‰è£…2.0å®¢æˆ·ç«¯åï¼Œè¿˜æ˜¯è§£é‡Šæ‰§è¡Œï¼Œæ–°ç‰ˆæœ¬çš„æ€§èƒ½æ— æ³•è¾¾åˆ°AOTçš„æ€§èƒ½çº§åˆ«ã€‚

- ç›¸æ¯”ä¼ ç»Ÿçš„Luaæˆ–ILRuntimeçƒ­æ›´ï¼Œèƒ½æ›´æ–°ä»»æ„éƒ¨åˆ†çš„ä»£ç ã€‚
ä¸ç”¨åƒLuaæˆ–ILRuntimeä¸€æ ·ï¼Œåˆ†çƒ­æ›´ä»£ç +æ¡†æ¶ä»£ç ï¼Œæ¡†æ¶ä»£ç æœ‰bugè¿˜ä¸èƒ½çƒ­æ›´ã€‚

=== MISC
https://zhuanlan.zhihu.com/p/676793950
https://mp.weixin.qq.com/s/5xfq-EveRWmBnHMfC-icRA

== å¤šè¯­è¨€

== framework
=== gf
https://github.com/EllanJiang/GameFramework
https://www.lfzxb.top/gameframework-all/

=== et
https://github.com/egametang/ET
https://github.com/egametang/ET/tree/master/Book
https://www.lfzxb.top/et-all/

=== ecs(entity component system)
https://en.wikipedia.org/wiki/Entity_component_system
https://developer.unity.cn/projects/677ca79dedbc2a001f135aec
https://developer.unity.cn/projects/677cd9d4edbc2a001eac2828
https://indienova.com/indie-game-development/gdc-overwatch-gameplay-architecture-and-netcode/
https://blog.codingnow.com/eo/ecs/

=== dots(data-oriented tech stack)
https://unity.com/dots

=== å‚è€ƒ
https://www.zhihu.com/question/268285328

== åº“
=== å¯»è·¯
https://github.com/recastnavigation/recastnavigation

=== è¡Œä¸ºæ ‘
https://github.com/meniku/NPBehave

== å·¥å…·
=== stack trace

==== Stack trace logging
https://docs.unity3d.com/Manual/StackTrace.html

ç¼ºç‚¹:

    only to debug.
    Limit the type of messages that display a stack trace.

==== StackTrace Class
https://learn.microsoft.com/en-us/dotnet/api/system.diagnostics.stacktrace

ç¼ºç‚¹:

    It will not give stack traces for inlined method calls.
    If compiled in release mode, it will probably not have file and line numbers.
    there may be an odd platform it doesnâ€™t support.

å‚è€ƒ:
https://discussions.unity.com/t/how-to-get-a-reliable-stack-trace-in-release-build/

==== Releaseä¸­çš„æ–‡ä»¶åã€æ–¹æ³•åã€è¡Œå·ï¼Ÿ
- æ–¹æ³•1: csharp StackTrace Class + Assemblyå¸¦ä¸ŠPDB
https://learn.microsoft.com/en-us/dotnet/api/system.reflection.assembly.load?view=net-9.0#system-reflection-assembly-load(system-byte()-system-byte())

- æ–¹æ³•2: Unity 2023.1 and later
https://docs.unity3d.com/Manual/il2cpp-managed-stack-traces.html

å‚è€ƒ:
https://discussions.unity.com/t/il2cpp-missing-line-numbers-in-stack-trace/
https://discussions.unity.com/t/file-and-line-numbers-in-stack-trace/
https://stackoverflow.com/questions/72258670/c-sharp-get-the-calling-methods-line-number-class-file-and-method-name-etc
https://www.lfzxb.top/il2cpp-linenumber-recover/

=== unit test
https://docs.unity3d.com/Manual/testing-editortestsrunner.html

=== roslyn
https://docs.unity3d.com/Manual/roslyn-analyzers.html

=== Visual Studio
https://docs.unity3d.com/Manual/SL-DebuggingD3D11ShadersWithVS.html

=== SRDebugger
https://www.stompyrobot.uk/tools/srdebugger/
https://www.stompyrobot.uk/tools/srdebugger/documentation/
SRDebuggeré™¤äº†æ—¥å¿—ï¼Œè¿˜æä¾›é€‰é¡¹ã€ç³»ç»Ÿä¿¡æ¯ç­‰åŠŸèƒ½

=== æ€§èƒ½ä¼˜åŒ–ä¸é€†å‘åˆ†æ
https://zhuanlan.zhihu.com/p/697337400

=== æ—¥å¿—
- SRDebugger

- android
android studio: https://developer.android.com/studio/debug/logcat?hl=zh-cn

== æ‰©å±•
=== package
==== vs. plugin
https://forum.unity.com/threads/unity-plugin-vs-unity-package.263003/

==== rider
https://docs.unity3d.com/Manual/com.unity.ide.rider.html
pausepoints:
https://blog.jetbrains.com/dotnet/2020/06/11/introducing-unity-pausepoints-for-rider/

=== æ’ä»¶
https://docs.unity3d.com/Manual/Plugins.html

=== ç¼–è¾‘å™¨æ‰©å±•
https://docs.unity3d.com/Manual/ExtendingTheEditor.html
Unity ç¼–è¾‘å™¨æ‰©å±•å…è®¸å¼€å‘è€…è‡ªå®šä¹‰ Unity ç¼–è¾‘å™¨ç•Œé¢ï¼Œåˆ›å»ºä¸“ç”¨å·¥å…·æ¥æå‡å·¥ä½œæµç¨‹æ•ˆç‡ã€‚

æ ¸å¿ƒç±»:

    EditorWindow - åˆ›å»ºè‡ªå®šä¹‰çª—å£
    Editor - è‡ªå®šä¹‰ç»„ä»¶æ£€è§†é¢æ¿
    PropertyDrawer - è‡ªå®šä¹‰å±æ€§ç»˜åˆ¶å™¨
    MenuItem - æ·»åŠ èœå•é¡¹

å…³é”®ç‰¹æ€§:

    ä½¿ç”¨ UnityEditor å‘½åç©ºé—´
    è„šæœ¬å¿…é¡»æ”¾åœ¨ Editor æ–‡ä»¶å¤¹ä¸­
    åœ¨ç¼–è¾‘å™¨æ¨¡å¼ä¸‹è¿è¡Œ

== æ€§èƒ½ä¼˜åŒ–
=== æ¦‚è¦
https://docs.unity3d.com/Manual/UnderstandingPerformance.html
https://docs.unity3d.com/Manual/analysis.html

=== Profiler
https://docs.unity3d.com/Manual/Profiler.html
https://docs.unity3d.com/ScriptReference/Profiling.Profiler.html

android: https://docs.unity3d.com/Manual/android-profile-on-an-android-device.html
adb forward tcp:34999 localabstract:Unity-{insert bundle identifier here}

Q: Unity.Profiling vs. UnityEngine.Profiling?
https://discussions.unity.com/t/what-the-different-between-unity-profiling-and-unityengine-profiling/

=== UWA
https://www.uwa4d.com/
UWA GOT (Game Optimization Toolkit) æœ¬åœ°æ€§èƒ½åˆ†æå·¥å…·ï¼Œæ”¯æŒ PC/Android/iOS
UWA Pipeline äº‘ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå¤šè®¾å¤‡å¹¶è¡Œæµ‹è¯•
UWA Localization æœ¬åœ°åŒ–æ€§èƒ½åˆ†æï¼Œé€‚ç”¨äºæµ·å¤–ç‰ˆæœ¬ä¼˜åŒ–
UWA Deep Memory æ·±åº¦å†…å­˜åˆ†æï¼Œæ£€æµ‹æ³„æ¼å’Œå†—ä½™èµ„æº

=== Frame Debugger
https://docs.unity3d.com/Manual/FrameDebugger.html
https://docs.unity3d.com/Manual/FrameDebugger-landing.html

=== perfdog
https://perfdog.qq.com/helpCenter

=== burst
- æ¦‚è¦
Burst æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ C# ç¼–è¯‘å™¨ï¼Œä¸“é—¨ç”¨äºä¼˜åŒ–è®¡ç®—å¯†é›†å‹ä»»åŠ¡ã€‚
å®ƒå°† C# ä»£ç ç›´æ¥ç¼–è¯‘ä¸ºé«˜åº¦ä¼˜åŒ–çš„æœ¬åœ°æœºå™¨ç (Native Code)ï¼Œç»•è¿‡ä¼ ç»Ÿçš„ .NET è¿è¡Œæ—¶(å¦‚ Mono æˆ– IL2CPP)ã€‚
Burst ä½¿ç”¨ LLVM ä½œä¸ºåç«¯ç¼–è¯‘å™¨ï¼Œç”Ÿæˆé’ˆå¯¹ç‰¹å®š CPU æ¶æ„ä¼˜åŒ–çš„æœºå™¨ç ï¼Œæ”¯æŒ SIMD(å•æŒ‡ä»¤å¤šæ•°æ®æµ)æŒ‡ä»¤é›†ï¼Œä»¥åŠ é€Ÿå¹¶è¡Œè®¡ç®—ã€‚

- å‚è€ƒ
https://docs.unity3d.com/Manual/com.unity.burst.html

=== API/åº“/æ¡†æ¶
==== string
- Unity ZString
https://github.com/Cysharp/ZString
https://neuecc.medium.com/zstring-zero-allocation-stringbuilder-for-net-core-and-unity-f3163c88c887
æ ˆä¸Šåˆ†é…: structé¿å…å †åˆ†é…
å¯æ‰©å±•ç¼“å†²åŒº: åˆå§‹ä½¿ç”¨æ ˆç©ºé—´ï¼Œè¶…é‡æ—¶åˆ‡æ¢è‡³æ•°ç»„
Spanæ“ä½œ: ç›´æ¥æ“ä½œå†…å­˜ï¼Œé¿å…æ¥å£è°ƒç”¨å¼€é”€

- zstring
https://github.com/871041532/zstring

==== Cysharp
https://github.com/Cysharp

=== å‚è€ƒ
https://docs.unity3d.com/Manual/analysis.html
https://docs.unity3d.com/Manual/graphics-performance-profiling.html
https://www.bilibili.com/read/readlist/rl511863?spm_id_from=333.1369.opus.module_collection.click

== å›¢ç»“å¼•æ“
https://docs.unity.cn/cn/tuanjiemanual/Manual/intro.html

- æ³¨æ„äº‹é¡¹
å¾®ä¿¡å°æ¸¸æˆä¸èƒ½ä½¿ç”¨å¤šçº¿ç¨‹:
https://developer.unity.cn/ask/question/672c2e45edbc2a4e04a81cee

== tutorial
https://catlikecoding.com/unity/tutorials/
https://www.youtube.com/playlist?list=PLPV2KyIb3jR4GH32npxmkXE-AHnlamcdG

== project
https://github.com/Unity-Technologies

== æºç 
https://www.zhihu.com/question/270076640
https://github.com/Unity-Technologies/UnityCsReference

== é¡¹ç›®è§„èŒƒ
https://www.zhihu.com/question/3854922557/answer/57599729291

== AI
https://unity.com/ai
Unity Muse
Unity Sentis

== å‚è€ƒ
ã€ŠUnity3Dæ¸¸æˆå¼€å‘ã€‹ç¬¬3ç‰ˆ å®£é›¨æ¾
https://docs.unity3d.com/Manual/index.html
https://unity.com/how-to#ebooks-for-programmers
https://developer.unity.cn/u/unityji-zhu-bo-ke?tab=article